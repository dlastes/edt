{"version":3,"file":"js/app.js","mappings":"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","sources":["webpack://flopedt-front/./src/assets/js/api.ts","webpack://flopedt-front/./src/assets/js/keys.ts","webpack://flopedt-front/./src/assets/js/types.ts","webpack://flopedt-front/./src/helpers/index.ts","webpack://flopedt-front/./src/components/BaseCalendar.vue","webpack://flopedt-front/./src/components/BaseCalendar.vue?1b92","webpack://flopedt-front/./src/components/HourCalendar.vue","webpack://flopedt-front/./src/components/HourCalendar.vue?120f","webpack://flopedt-front/./src/components/WeekPicker.vue","webpack://flopedt-front/./src/components/WeekPicker.vue?4de6","webpack://flopedt-front/./src/components/RoomCalendar.vue","webpack://flopedt-front/./src/components/RoomCalendar.vue?ccdf","webpack://flopedt-front/./src/components/CalendarSlotContextMenu.vue","webpack://flopedt-front/./src/components/CalendarSlotContextMenu.vue?3106","webpack://flopedt-front/./src/components/DayPicker.vue","webpack://flopedt-front/./src/components/DayPicker.vue?f530","webpack://flopedt-front/./src/components/ModalForm.vue","webpack://flopedt-front/./src/components/ModalForm.vue?e35e","webpack://flopedt-front/./src/components/TimePicker.vue","webpack://flopedt-front/./src/components/TimePicker.vue?5bb8","webpack://flopedt-front/./src/components/PeriodicityByWeekEdit.vue","webpack://flopedt-front/./src/components/PeriodicityByWeekEdit.vue?0ea9","webpack://flopedt-front/./src/components/PeriodicityByMonthEdit.vue","webpack://flopedt-front/./src/components/PeriodicityByMonthEdit.vue?a74a","webpack://flopedt-front/./src/components/PeriodicitySelect.vue","webpack://flopedt-front/./src/components/PeriodicitySelect.vue?98a2","webpack://flopedt-front/./src/components/ModalDialog.vue","webpack://flopedt-front/./src/components/ModalDialog.vue?9dc9","webpack://flopedt-front/./src/components/RoomReservationForm.vue","webpack://flopedt-front/./src/components/RoomReservationForm.vue?1830","webpack://flopedt-front/./src/components/CalendarRoomReservationSlot.vue","webpack://flopedt-front/./src/components/CalendarRoomReservationSlot.vue?f2cd","webpack://flopedt-front/./src/components/HourCalendarRoomReservationSlot.vue","webpack://flopedt-front/./src/components/HourCalendarRoomReservationSlot.vue?cfb6","webpack://flopedt-front/./src/components/RoomCalendarRoomReservationSlot.vue","webpack://flopedt-front/./src/components/RoomCalendarRoomReservationSlot.vue?ad6b","webpack://flopedt-front/./src/components/CalendarScheduledCourseSlot.vue","webpack://flopedt-front/./src/components/CalendarScheduledCourseSlot.vue?cd29","webpack://flopedt-front/./src/components/HourCalendarScheduledCourseSlot.vue","webpack://flopedt-front/./src/components/HourCalendarScheduledCourseSlot.vue?913f","webpack://flopedt-front/./src/components/RoomCalendarScheduledCourseSlot.vue","webpack://flopedt-front/./src/components/RoomCalendarScheduledCourseSlot.vue?d08b","webpack://flopedt-front/./src/components/DynamicSelect.vue","webpack://flopedt-front/./src/components/DynamicSelect.vue?a4e2","webpack://flopedt-front/./src/components/DynamicSelectedElement.vue","webpack://flopedt-front/./src/components/DynamicSelectedElement.vue?02eb","webpack://flopedt-front/./src/components/DoubleThumbSlider.vue","webpack://flopedt-front/./src/components/DoubleThumbSlider.vue?c2a3","webpack://flopedt-front/./src/components/DynamicSelectedElementNumeric.vue","webpack://flopedt-front/./src/components/DynamicSelectedElementNumeric.vue?7f06","webpack://flopedt-front/./src/components/DynamicSelectedElementBoolean.vue","webpack://flopedt-front/./src/components/DynamicSelectedElementBoolean.vue?e012","webpack://flopedt-front/./src/components/ClearableInput.vue","webpack://flopedt-front/./src/components/ClearableInput.vue?0c96","webpack://flopedt-front/./src/components/DeletePeriodicReservationDialog.vue","webpack://flopedt-front/./src/components/DeletePeriodicReservationDialog.vue?d1e4","webpack://flopedt-front/./src/composables/api.ts","webpack://flopedt-front/./src/stores/store.ts","webpack://flopedt-front/./src/stores/department.ts","webpack://flopedt-front/./src/stores/room.ts","webpack://flopedt-front/./src/views/RoomReservationView.vue","webpack://flopedt-front/./src/views/RoomReservationView.vue?2144","webpack://flopedt-front/./src/main.ts","webpack://flopedt-front/webpack/bootstrap","webpack://flopedt-front/webpack/runtime/chunk loaded","webpack://flopedt-front/webpack/runtime/define property getters","webpack://flopedt-front/webpack/runtime/global","webpack://flopedt-front/webpack/runtime/hasOwnProperty shorthand","webpack://flopedt-front/webpack/runtime/make namespace object","webpack://flopedt-front/webpack/runtime/jsonp chunk loading","webpack://flopedt-front/webpack/startup"],"sourcesContent":["let API_ENDPOINT = '';\nconst dbDataElement = document.getElementById('json_data');\nif (dbDataElement && dbDataElement.textContent) {\n    const data = JSON.parse(dbDataElement.textContent);\n    if ('api' in data) {\n        API_ENDPOINT = data.api;\n    }\n}\nfunction getCookie(name) {\n    if (!document.cookie) {\n        return null;\n    }\n    const xsrfCookies = document.cookie\n        .split(';')\n        .map((c) => c.trim())\n        .filter((c) => c.startsWith(name + '='));\n    if (xsrfCookies.length === 0) {\n        return null;\n    }\n    return decodeURIComponent(xsrfCookies[0].split('=')[1]);\n}\nconst csrfToken = getCookie('csrftoken');\nasync function fetchData(url, params) {\n    const providedParams = params;\n    params = Object.assign({\n        method: 'GET',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n    }, params);\n    params.headers = Object.assign({\n        'X-CSRFToken': csrfToken,\n        'Content-Type': 'application/json',\n    }, params.headers);\n    let args = '';\n    if (providedParams) {\n        args = Object.keys(providedParams)\n            .map((p) => p + '=' + providedParams[p])\n            .join('&');\n    }\n    const finalUrl = `${API_ENDPOINT}${url}/?${args}`;\n    console.log(`Fetching ${finalUrl}...`);\n    const response = await fetch(finalUrl, params);\n    const json = (await response.json()) || {};\n    if (!response.ok) {\n        const errorMessage = json.error || `${response.status}`;\n        throw new Error(errorMessage);\n    }\n    return json;\n}\nasync function sendData(method, url, optional) {\n    if (!['PUT', 'POST', 'DELETE', 'PATCH'].includes(method)) {\n        return Promise.reject('Method must be either PUT, POST, PATCH, or DELETE');\n    }\n    // Setup headers\n    const requestHeaders = new Headers();\n    requestHeaders.set('Content-Type', 'application/json');\n    if (csrfToken) {\n        requestHeaders.set('X-CSRFToken', csrfToken);\n    }\n    // Setup request\n    const requestInit = {\n        method: method,\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: requestHeaders,\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n    };\n    if (optional.data) {\n        requestInit.body = JSON.stringify(optional.data);\n    }\n    // Create url\n    let endUrl = '/';\n    if (optional.id) {\n        endUrl = `/${optional.id}/`;\n    }\n    const finalUrl = `${API_ENDPOINT}${url}${endUrl}`;\n    console.log(`Updating ${finalUrl}...`);\n    // Wait for the response\n    return await fetch(finalUrl, requestInit)\n        .then(async (response) => {\n        const data = await response.json();\n        if (!response.ok) {\n            const error = data || `Error ${response.status}: ${response.statusText}`;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n        .catch((reason) => {\n        return Promise.reject(reason);\n    });\n}\nasync function putData(url, id, data) {\n    const optional = {\n        id: id,\n        data: data,\n    };\n    return await sendData('PUT', url, optional);\n}\nasync function postData(url, data) {\n    const optional = {\n        data: data,\n    };\n    return await sendData('POST', url, optional);\n}\nasync function patchData(url, id, data) {\n    const optional = {\n        id: id,\n        data: data,\n    };\n    return await sendData('PATCH', url, optional);\n}\nfunction deleteData(url, id) {\n    const optional = {\n        id: id,\n    };\n    return sendData('DELETE', url, optional);\n}\nconst urls = {\n    departments: 'fetch/alldepts',\n    rooms: 'rooms/room',\n    weekdays: 'fetch/weekdays',\n    timesettings: 'base/timesettings',\n    roomreservation: 'roomreservations/reservation',\n    roomreservationtype: 'roomreservations/reservationtype',\n    reservationperiodicity: 'roomreservations/reservationperiodicity',\n    reservationperiodicitytype: 'roomreservations/reservationperiodicitytype',\n    reservationperiodicitybyweek: 'roomreservations/reservationperiodicitybyweek',\n    reservationperiodicityeachmonthsamedate: 'roomreservations/reservationperiodicityeachmonthsamedate',\n    reservationperiodicitybymonth: 'roomreservations/reservationperiodicitybymonth',\n    reservationperiodicitybymonthxchoice: 'roomreservations/reservationperiodicitybymonthxchoice',\n    courses: 'courses/courses',\n    scheduledcourses: 'fetch/scheduledcourses',\n    coursetypes: 'courses/type',\n    users: 'user/users',\n    booleanroomattributes: 'rooms/booleanattributes',\n    numericroomattributes: 'rooms/numericattributes',\n    booleanroomattributevalues: 'rooms/booleanattributevalues',\n    numericroomattributevalues: 'rooms/numericattributevalues',\n};\n/**\n * Proxy function to fetch from the api. Provided parameters' name can be mapped to another to fit the api names.\n * @param {string} url The url to access the data\n * @param params The parameters\n * @param renameList The rename\n * @returns {Promise<any>}\n */\nconst fetcher = (url, params, renameList) => fetchData(url, params ? filterObject(params, renameList) : {});\nfunction buildUrl(base, uri) {\n    return `${base}/${uri}`;\n}\nconst api = {\n    fetch: {\n        booleanRoomAttributes() {\n            return fetcher(urls.booleanroomattributes);\n        },\n        booleanRoomAttributeValues() {\n            return fetcher(urls.booleanroomattributevalues);\n        },\n        courses(params) {\n            return fetcher(urls.courses, params, [['department', 'dept']]);\n        },\n        courseTypes(params) {\n            return fetcher(urls.coursetypes, params, [['department', 'dept']]);\n        },\n        departments() {\n            return fetcher(urls.departments);\n        },\n        numericRoomAttributes() {\n            return fetcher(urls.numericroomattributes);\n        },\n        numericRoomAttributeValues() {\n            return fetcher(urls.numericroomattributevalues);\n        },\n        reservationPeriodicities() {\n            return fetcher(urls.reservationperiodicity);\n        },\n        reservationPeriodicity(periodicityId) {\n            return fetcher(urls.reservationperiodicity, { id: periodicityId });\n        },\n        reservationPeriodicityByMonthXChoices() {\n            return fetcher(urls.reservationperiodicitybymonthxchoice);\n        },\n        reservationPeriodicityTypes() {\n            return fetcher(urls.reservationperiodicitytype);\n        },\n        room(id, additionalParams) {\n            return fetcher(buildUrl(urls.rooms, id.toString()), additionalParams);\n        },\n        rooms(params) {\n            return fetcher(urls.rooms, params, [['department', 'dept']]);\n        },\n        roomReservations(params) {\n            return fetcher(urls.roomreservation, params, [\n                ['roomId', 'room'],\n                ['periodicityId', 'periodicity'],\n            ]);\n        },\n        roomReservationTypes() {\n            return fetcher(urls.roomreservationtype);\n        },\n        scheduledCourses(params) {\n            return fetcher(urls.scheduledcourses, params, [['department', 'dept']]);\n        },\n        timeSettings() {\n            return fetcher(urls.timesettings);\n        },\n        users() {\n            return fetcher(urls.users);\n        },\n        weekdays(params) {\n            return fetcher(urls.weekdays, params);\n        },\n    },\n    put: {\n        roomReservation(value) {\n            return putData(urls.roomreservation, value.id, value);\n        },\n        reservationPeriodicityByMonth(value) {\n            return putData(urls.reservationperiodicitybymonth, value.id, value);\n        },\n        reservationPeriodicityByWeek(value) {\n            return putData(urls.reservationperiodicitybyweek, value.id, value);\n        },\n        reservationPeriodicityEachMonthSameDate(value) {\n            return putData(urls.reservationperiodicityeachmonthsamedate, value.id, value);\n        },\n    },\n    post: {\n        roomReservation(value) {\n            return postData(urls.roomreservation, value);\n        },\n        reservationPeriodicityByMonth(value) {\n            return postData(urls.reservationperiodicitybymonth, value);\n        },\n        reservationPeriodicityByWeek(value) {\n            return postData(urls.reservationperiodicitybyweek, value);\n        },\n        reservationPeriodicityEachMonthSameDate(value) {\n            return postData(urls.reservationperiodicityeachmonthsamedate, value);\n        },\n    },\n    patch: {\n        reservationPeriodicityByMonth(id, params) {\n            return patchData(urls.reservationperiodicitybymonth, id, params);\n        },\n        reservationPeriodicityByWeek(id, params) {\n            return patchData(urls.reservationperiodicitybyweek, id, params);\n        },\n        reservationPeriodicityEachMonthSameDate(id, params) {\n            return patchData(urls.reservationperiodicityeachmonthsamedate, id, params);\n        },\n    },\n    delete: {\n        reservationPeriodicity(id) {\n            return deleteData(urls.reservationperiodicity, id);\n        },\n        roomReservation(id) {\n            return deleteData(urls.roomreservation, id);\n        },\n    },\n};\nexport { api };\n/**\n * Accepts an object and returns a new object with undefined values removed.\n * The object keys can be renamed using the renameList parameter.\n * @param obj The object to filter\n * @param renameList The rename list as an array of pair of strings as [oldName, newName]\n */\nfunction filterObject(obj, renameList) {\n    let filtered = Object.entries(obj).filter((entry) => entry[1]);\n    if (renameList) {\n        filtered = filtered.map((entry) => {\n            const toRename = renameList.find((renamePair) => renamePair[0] === entry[0]);\n            const keyName = toRename ? toRename[1] : entry[0];\n            return [keyName, entry[1]];\n        });\n    }\n    return Object.fromEntries(filtered);\n}\n","import { inject } from 'vue';\nexport const currentWeekKey = Symbol('currentWeekKey');\nexport const apiKey = Symbol('api');\nexport function requireInjection(key, defaultValue) {\n    const resolved = inject(key, defaultValue);\n    if (!resolved) {\n        throw new Error(`${key.toString()} was not provided.`);\n    }\n    return resolved;\n}\n","export class Time {\n    value;\n    text;\n    constructor(value, text) {\n        this.value = value;\n        this.text = text;\n    }\n}\nexport class Course {\n    id;\n    week;\n    year;\n    no;\n    type;\n    room_type;\n    tutor;\n    supp_tutor;\n    groups;\n    module;\n    modulesupp;\n    pay_module;\n    constructor() {\n        this.id = 0;\n        this.week = '';\n        this.year = '';\n        this.no = 0;\n        this.type = { department: { name: '' }, name: '' };\n        this.room_type = { name: '' };\n        this.tutor = '';\n        this.supp_tutor = '';\n        this.groups = [];\n        this.module = { abbrev: '' };\n        this.modulesupp = { abbrev: '' };\n        this.pay_module = { abbrev: '' };\n    }\n}\nexport class ScheduledCourse {\n    id;\n    room;\n    start_time;\n    day;\n    course;\n    tutor;\n    id_visio;\n    constructor() {\n        this.id = 0;\n        this.room = 0;\n        this.start_time = 0;\n        this.day = '';\n        this.course = {\n            id: 0,\n            type: '',\n            room_type: '',\n            week: 0,\n            year: 0,\n            groups: [\n                {\n                    id: 0,\n                    train_prog: '',\n                    name: '',\n                    is_structural: false,\n                },\n            ],\n            supp_tutor: [],\n            module: {\n                name: '',\n                abbrev: '',\n                display: {\n                    color_bg: '',\n                    color_txt: '',\n                },\n            },\n            pay_module: {},\n            is_graded: false,\n        };\n        this.tutor = '';\n        this.id_visio = 0;\n    }\n}\n","import { Time } from '@/assets/js/types';\nexport function convertDecimalTimeToHuman(time) {\n    const hours = Math.trunc(time);\n    const minutes = Math.round((time - hours) * 60);\n    return `${hours}:${toStringAtLeastTwoDigits(minutes)}`;\n}\n/**\n * Takes a number and convert it to a string with a '0' prefix if there is only one digit.\n * If the number is in a string then a '0' prefix is prepended if needed.\n * @param {number} element The element to convert\n * @returns {string} The two-digits string\n */\nexport function toStringAtLeastTwoDigits(element) {\n    if (typeof element === 'string') {\n        element = parseInt(element, 10);\n        if (isNaN(element)) {\n            throw new Error(`Given value (${element}) cannot not be parsed as number`);\n        }\n    }\n    return `${element < 10 ? `0${element}` : element}`;\n}\nexport function parseReason(reason, onAlert) {\n    // Reason can be either a response body or a thrown error\n    if (reason instanceof Object && !(reason instanceof Error)) {\n        // Reason is a response body, display each message separately\n        const reasonObj = reason;\n        Object.keys(reasonObj).forEach((key) => {\n            onAlert?.('danger', `${key}: ${reasonObj[key]}`);\n        });\n    }\n    else {\n        onAlert?.('danger', `${reason}.`);\n    }\n}\n/**\n * Takes an array and a predicate to extract a key serving as the group-by option.\n * Returns an object having each key property matching a list of given type.\n * @param list The array\n * @param keyPredicate The function to extract a key from each element\n */\nexport function listGroupBy(list, keyPredicate) {\n    const out = {};\n    list.forEach((value) => {\n        const key = keyPredicate(value);\n        if (!(key in out)) {\n            out[key] = [];\n        }\n        out[key].push(value);\n    });\n    return out;\n}\nexport function createTime(time) {\n    const text = convertDecimalTimeToHuman(time / 60);\n    return new Time(time, text);\n}\n/**\n * Accepts an array of objects having an id and returns an array containing only those ids.\n * @param list\n */\nexport function mapListId(list) {\n    return list.map((element) => element.id);\n}\n","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst __default__ = {\n    name: 'BaseCalendar',\n    components: {},\n};\nimport { ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    setup(__props, { expose }) {\n        const slotInterfaces = ref({});\n        const currentContextMenu = ref('');\n        function storeSlotInterface(id, slotInterface) {\n            slotInterfaces.value[id] = slotInterface;\n        }\n        function openContextMenu(slotId) {\n            closeCurrentContextMenu();\n            // Store the current context menu if opened successfully\n            if (slotInterfaces.value[slotId].openContextMenu()) {\n                currentContextMenu.value = slotId;\n            }\n        }\n        function closeCurrentContextMenu() {\n            // Close currently opened context menu (if exists)\n            if (currentContextMenu.value) {\n                slotInterfaces.value[currentContextMenu.value].closeContextMenu();\n            }\n        }\n        function clicked() {\n            closeCurrentContextMenu();\n        }\n        expose({ openContextMenu, closeCurrentContextMenu, storeSlotInterface });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", { onClick: clicked }, [\n                _renderSlot(_ctx.$slots, \"table\")\n            ]));\n        };\n    }\n});\n","import script from \"./BaseCalendar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./BaseCalendar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./BaseCalendar.vue?vue&type=style&index=0&id=4dc8f8b4&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, unref as _unref, normalizeStyle as _normalizeStyle, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, createBlock as _createBlock, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = { class: \"w-100\" };\nconst _hoisted_2 = { class: \"p-0 flex-nowrap\" };\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\"th\", { class: \"p-0 me-3\" }, null, -1);\nconst _hoisted_4 = {\n    class: \"p-0 h-100\",\n    style: { \"min-width\": \"50px\", \"width\": \"50px\" }\n};\nconst _hoisted_5 = { class: \"text-wrap\" };\nconst _hoisted_6 = /*#__PURE__*/ _createElementVNode(\"hr\", {\n    class: \"border border-primary border-1 w-100 position-absolute top-0\",\n    style: { \"transform\": \"translateY(-3px)\" }\n}, null, -1);\nconst _hoisted_7 = [\"onMousedown\", \"onMouseup\"];\nconst __default__ = {\n    name: 'HourCalendar',\n    components: {},\n};\nimport { convertDecimalTimeToHuman } from '@/helpers';\nimport { computed, ref } from 'vue';\nimport BaseCalendar from '@/components/BaseCalendar.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        values: null\n    },\n    emits: [\"drag\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        /**\n         * Value used to fit drag&drop slot creation when pressing the button, in minutes.\n         * Should be set among [15, 30, 60]\n         * @type {number}\n         */\n        const snapValueStart = 15;\n        /**\n         * Value used to fit drag&drop slot creation when releasing the button, in minutes.\n         * Should be set among [15, 30, 60]\n         * @type {number}\n         */\n        const snapStep = 30;\n        const displayableSlots = computed(() => {\n            const out = {};\n            Object.keys(props.values.slots).forEach((index) => {\n                if (!(index in out)) {\n                    out[index] = [];\n                }\n                out[index] = props.values.slots[index].filter((tmpSlot) => canBeDisplayed(tmpSlot.slotData));\n            });\n            return out;\n        });\n        const hourIndicators = computed(() => {\n            const start = Math.trunc(props.values.startTime / 60);\n            const end = Math.trunc(props.values.endTime / 60);\n            const hours = [];\n            for (let hour = start; hour <= end; ++hour) {\n                const time = {\n                    value: hour * 60,\n                    text: convertDecimalTimeToHuman(hour),\n                };\n                hours.push(time);\n            }\n            return hours;\n        });\n        const dragEvent = {\n            startDate: new Date(),\n            startTime: { text: '', value: 0 },\n            endDate: new Date(),\n            endTime: { text: '', value: 0 },\n        };\n        /**\n         * Takes a click position in the Y-axis relative to the concerned column.\n         * Returns the time in minutes from midnight corresponding to this position and taking the starting time offset into account.\n         * @param {number} y The position in the Y-axis.\n         * @param snap\n         * @returns {number} The value of the time.\n         */\n        function clickHeightToTime(y, snap) {\n            return Math.round((props.values.startTime + (y / pixelsPerHour) * 60) / snap) * snap;\n        }\n        function dayColumnMouseDown(day, event) {\n            const dayArray = day.split('/');\n            dragEvent.startDate = new Date(`${props.values.year}-${dayArray[1]}-${dayArray[0]}`);\n            const time = clickHeightToTime(event.offsetY, snapValueStart);\n            dragEvent.startTime = {\n                text: convertDecimalTimeToHuman(time / 60),\n                value: time,\n            };\n        }\n        function dayColumnMouseUp(day, event) {\n            const dayArray = day.split('/');\n            dragEvent.endDate = new Date(`${props.values.year}-${dayArray[1]}-${dayArray[0]}`);\n            const startTime = dragEvent.startTime.value;\n            let time = clickHeightToTime(event.offsetY, snapStep);\n            if (time - startTime < 5) {\n                time = startTime + 60;\n            }\n            time = startTime + Math.round((time - startTime) / snapStep) * snapStep;\n            dragEvent.endTime = {\n                text: convertDecimalTimeToHuman(time / 60),\n                value: time,\n            };\n            emit('drag', dragEvent);\n        }\n        // Positioning and sizing\n        const pixelsPerHour = 50;\n        const heightValue = computed(() => {\n            return pixelsPerHour * (Math.trunc(props.values.endTime / 60) - Math.trunc(props.values.startTime / 60));\n        });\n        const height = computed(() => {\n            return `${heightValue.value}px`;\n        });\n        function positionRelativeToColumn(value) {\n            return (100 * (value - props.values.startTime)) / (props.values.endTime - props.values.startTime);\n        }\n        function computeHeight(slot) {\n            const startPos = positionRelativeToColumn(slot.startTime.value);\n            const endPos = positionRelativeToColumn(slot.endTime.value);\n            const out = endPos - startPos;\n            return `${out}%`;\n        }\n        function computeYOffset(time) {\n            const out = positionRelativeToColumn(time);\n            return `${out}%`;\n        }\n        function canBeDisplayed(slot) {\n            const out = slot.startTime.value >= props.values.startTime;\n            if (!out) {\n                console.log(`Slot ${slot.title} cannot be displayed because it does not begin after day start time`);\n            }\n            return out;\n        }\n        function computeStyle(slot) {\n            const top = computeYOffset(slot.startTime.value);\n            const height = computeHeight(slot);\n            return {\n                height: height,\n                top: top,\n                position: 'absolute',\n                'text-align': 'center',\n            };\n        }\n        function computeHourStyle(hour) {\n            const top = computeYOffset(hour.value);\n            return {\n                top: top,\n                position: 'absolute',\n                width: '100%',\n            };\n        }\n        const calendar = ref();\n        function contextMenu(id) {\n            if (calendar.value) {\n                calendar.value.openContextMenu(id);\n            }\n        }\n        function storeSlotInterface(id, slotInterface) {\n            if (calendar.value) {\n                calendar.value.storeSlotInterface(id, slotInterface);\n            }\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseCalendar, {\n                ref_key: \"calendar\",\n                ref: calendar\n            }, {\n                table: _withCtx(() => [\n                    _createElementVNode(\"table\", _hoisted_1, [\n                        _createElementVNode(\"tr\", _hoisted_2, [\n                            _hoisted_3,\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.days, (day) => {\n                                return (_openBlock(), _createElementBlock(\"th\", {\n                                    key: day.date,\n                                    class: _normalizeClass([\"col text-center border-dark border-bottom border-end border-top\", {\n                                            'border-start border-dark': day === props.values.days[0],\n                                        }])\n                                }, [\n                                    _createElementVNode(\"div\", null, _toDisplayString(day.name) + \" \" + _toDisplayString(day.date), 1)\n                                ], 2));\n                            }), 128))\n                        ]),\n                        _createElementVNode(\"tr\", {\n                            class: \"flex-nowrap position-relative\",\n                            style: _normalizeStyle({ height: _unref(height) })\n                        }, [\n                            _createElementVNode(\"td\", _hoisted_4, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(hourIndicators), (hour) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: hour.value,\n                                        style: _normalizeStyle(computeHourStyle(hour)),\n                                        class: \"translate-middle-y\"\n                                    }, [\n                                        _createElementVNode(\"h6\", _hoisted_5, _toDisplayString(hour.text), 1),\n                                        _hoisted_6\n                                    ], 4));\n                                }), 128))\n                            ]),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.days, (day) => {\n                                return (_openBlock(), _createElementBlock(\"td\", {\n                                    key: day.date,\n                                    class: _normalizeClass([\"col border-dark border-bottom border-end p-0\", {\n                                            'border-start border-dark': day === props.values.days[0],\n                                        }]),\n                                    style: _normalizeStyle([{ height: _unref(height) }, { \"min-width\": \"65px\" }])\n                                }, [\n                                    _createElementVNode(\"div\", {\n                                        class: \"position-relative h-100\",\n                                        onMousedown: _withModifiers(($event) => (dayColumnMouseDown(day.date, $event)), [\"left\", \"self\"]),\n                                        onMouseup: _withModifiers(($event) => (dayColumnMouseUp(day.date, $event)), [\"left\", \"self\"])\n                                    }, [\n                                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(displayableSlots)[day.date], (slot) => {\n                                            return (_openBlock(), _createBlock(_resolveDynamicComponent(slot.component.value), {\n                                                key: slot.slotData.id,\n                                                data: slot.slotData,\n                                                actions: slot.actions,\n                                                style: _normalizeStyle(computeStyle(slot.slotData)),\n                                                class: \"noselect slot m-0 border border-dark\",\n                                                onContextmenu: [\n                                                    _cache[0] || (_cache[0] = _withModifiers(() => { }, [\"right\", \"prevent\"])),\n                                                    ($event) => (contextMenu(slot.slotData.id))\n                                                ],\n                                                onInterface: storeSlotInterface\n                                            }, null, 40, [\"data\", \"actions\", \"style\", \"onContextmenu\"]));\n                                        }), 128))\n                                    ], 40, _hoisted_7)\n                                ], 6));\n                            }), 128))\n                        ], 4)\n                    ])\n                ]),\n                _: 1\n            }, 512));\n        };\n    }\n});\n","import script from \"./HourCalendar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HourCalendar.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./HourCalendar.vue?vue&type=style&index=0&id=19b46e43&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"row\" };\nconst __default__ = {\n    name: 'WeekPicker',\n    components: {},\n};\nimport { ref, watchEffect } from 'vue';\nimport Datepicker from '@vuepic/vue-datepicker';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        week: null,\n        year: null\n    },\n    emits: [\"update:week\", \"update:year\"],\n    setup(__props, { emit: emits }) {\n        const selectDate = ref([]);\n        watchEffect(() => {\n            const refDate = selectDate.value[0];\n            if (!refDate) {\n                return;\n            }\n            const startDate = new Date(refDate.getFullYear(), 0, 1);\n            const days = Math.floor((refDate.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1000));\n            emits('update:week', Math.ceil(days / 7));\n            emits('update:year', refDate.getFullYear());\n        });\n        const locale = ref('fr');\n        const nowLabel = ref(\"Aujourd'hui\");\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createVNode(_unref(Datepicker), {\n                    modelValue: selectDate.value,\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((selectDate).value = $event)),\n                    locale: locale.value,\n                    inline: \"\",\n                    \"week-numbers\": \"\",\n                    \"week-picker\": \"\",\n                    \"enable-time-picker\": false,\n                    \"auto-apply\": \"\",\n                    \"show-now-button\": \"\",\n                    \"now-button-label\": nowLabel.value\n                }, null, 8, [\"modelValue\", \"locale\", \"now-button-label\"])\n            ]));\n        };\n    }\n});\n","import script from \"./WeekPicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./WeekPicker.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveDynamicComponent as _resolveDynamicComponent, withModifiers as _withModifiers, createBlock as _createBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = { class: \"w-100\" };\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"th\", { class: \"col text-center border-dark border\" }, \"Room\", -1);\nconst _hoisted_3 = { class: \"h-100\" };\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = [\"onClick\"];\nconst _hoisted_6 = { key: 0 };\nconst __default__ = {\n    name: 'RoomCalendar',\n    components: {},\n};\nimport BaseCalendar from '@/components/BaseCalendar.vue';\nimport { ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        values: null\n    },\n    emits: [\"newSlot\", \"rowHeaderClick\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        function createSlot(day, roomId) {\n            // Format the date as yyyy-MM-dd\n            const dayArray = day.split('/');\n            emit('newSlot', new Date(`${props.values.year}-${dayArray[1]}-${dayArray[0]}`), `${roomId}`);\n        }\n        const calendar = ref();\n        function contextMenu(id) {\n            if (calendar.value) {\n                calendar.value.openContextMenu(id);\n            }\n        }\n        function storeSlotInterface(id, slotInterface) {\n            if (calendar.value) {\n                calendar.value.storeSlotInterface(id, slotInterface);\n            }\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(BaseCalendar, {\n                ref_key: \"calendar\",\n                ref: calendar\n            }, {\n                table: _withCtx(() => [\n                    _createElementVNode(\"table\", _hoisted_1, [\n                        _createElementVNode(\"tr\", null, [\n                            _hoisted_2,\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.days, (day) => {\n                                return (_openBlock(), _createElementBlock(\"th\", {\n                                    key: day.date,\n                                    class: \"col text-center border-dark border\"\n                                }, _toDisplayString(day.name) + \" \" + _toDisplayString(day.date), 1));\n                            }), 128))\n                        ]),\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.rooms, (room) => {\n                            return (_openBlock(), _createElementBlock(\"tr\", {\n                                key: room.id,\n                                class: \"border-dark border align-top h-100\"\n                            }, [\n                                _createElementVNode(\"td\", _hoisted_3, [\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        class: \"btn btn-outline-dark h-100 w-100 align-middle rounded-0\",\n                                        onClick: ($event) => (_ctx.$emit('rowHeaderClick', room.id))\n                                    }, _toDisplayString(room.name), 9, _hoisted_4)\n                                ]),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.days, (day) => {\n                                    return (_openBlock(), _createElementBlock(\"td\", {\n                                        key: day.date,\n                                        class: \"border-dark border pb-3\",\n                                        onClick: _withModifiers(($event) => (createSlot(day.date, room.id)), [\"self\", \"left\"])\n                                    }, [\n                                        (day.date in props.values.slots && room.id in props.values.slots[day.date])\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.values.slots[day.date][room.id], (slot) => {\n                                                    return (_openBlock(), _createBlock(_resolveDynamicComponent(slot.component.value), {\n                                                        key: slot.slotData.id,\n                                                        data: slot.slotData,\n                                                        actions: slot.actions,\n                                                        class: \"col noselect slot m-0 border border-dark\",\n                                                        onContextmenu: [\n                                                            _cache[0] || (_cache[0] = _withModifiers(() => { }, [\"right\", \"prevent\"])),\n                                                            ($event) => (contextMenu(slot.slotData.id))\n                                                        ],\n                                                        onInterface: storeSlotInterface\n                                                    }, null, 40, [\"data\", \"actions\", \"onContextmenu\"]));\n                                                }), 128))\n                                            ]))\n                                            : _createCommentVNode(\"\", true)\n                                    ], 8, _hoisted_5));\n                                }), 128))\n                            ]));\n                        }), 128))\n                    ])\n                ]),\n                _: 1\n            }, 512));\n        };\n    }\n});\n","import script from \"./RoomCalendar.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomCalendar.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"card p-0 m-0\" };\nconst _hoisted_2 = { class: \"card-body p-1 m-0\" };\nconst _hoisted_3 = {\n    class: \"btn-group\",\n    role: \"group\",\n    \"aria-label\": \"Slot context menu\"\n};\nconst __default__ = {\n    name: 'CalendarSlotContextMenu',\n    components: {},\n};\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        onEdit: null,\n        onDelete: null,\n        onDuplicate: null\n    },\n    setup(__props) {\n        const props = __props;\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-primary\",\n                            onClick: _cache[0] || (_cache[0] =\n                                //@ts-ignore\n                                (...args) => (props.onEdit && props.onEdit(...args)))\n                        }, \"Edit\"),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-danger\",\n                            onClick: _cache[1] || (_cache[1] =\n                                //@ts-ignore\n                                (...args) => (props.onDelete && props.onDelete(...args)))\n                        }, \"Delete\"),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-info\",\n                            onClick: _cache[2] || (_cache[2] =\n                                //@ts-ignore\n                                (...args) => (props.onDuplicate && props.onDuplicate(...args)))\n                        }, \"Duplicate\")\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./CalendarSlotContextMenu.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CalendarSlotContextMenu.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderSlot as _renderSlot, isRef as _isRef, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst __default__ = {\n    name: 'DayPicker',\n    components: {},\n};\nimport { toStringAtLeastTwoDigits } from '@/helpers';\nimport Datepicker from '@vuepic/vue-datepicker';\nimport { computed, ref, watch } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        startDate: null,\n        clearable: { type: Boolean },\n        shouldReset: { type: Boolean },\n        minDate: null\n    },\n    emits: [\"update:date\", \"update:week\", \"update:year\", \"onReset\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const selectDate = computed({\n            get() {\n                return new Date(props.startDate);\n            },\n            set(value) {\n                const refDate = value;\n                if (!refDate) {\n                    return 1;\n                }\n                const startDate = new Date(refDate.getFullYear(), 0, 1);\n                const days = Math.floor((refDate.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1000));\n                const day = toStringAtLeastTwoDigits(refDate.getDate());\n                const month = toStringAtLeastTwoDigits(refDate.getMonth() + 1);\n                const year = refDate.getFullYear();\n                emit('update:date', `${year}/${month}/${day}`);\n                emit('update:week', Math.ceil(days / 7));\n                emit('update:year', year);\n            },\n        });\n        watch(() => props.shouldReset, (newValue) => {\n            if (newValue) {\n                selectDate.value = new Date(props.startDate);\n                emit('onReset');\n            }\n        });\n        const locale = ref('fr');\n        const nowLabel = ref(\"Aujourd'hui\");\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_unref(Datepicker), {\n                modelValue: _unref(selectDate),\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(selectDate) ? (selectDate).value = $event : null)),\n                locale: locale.value,\n                \"text-input\": \"\",\n                format: \"dd/MM/yyyy\",\n                \"week-numbers\": \"\",\n                \"enable-time-picker\": false,\n                \"auto-apply\": \"\",\n                \"show-now-button\": \"\",\n                \"now-button-label\": nowLabel.value,\n                transitions: false,\n                \"min-date\": props.minDate,\n                clearable: props.clearable\n            }, {\n                \"dp-input\": _withCtx(({ value }) => [\n                    _renderSlot(_ctx.$slots, \"input\", { value: value })\n                ]),\n                _: 3\n            }, 8, [\"modelValue\", \"locale\", \"now-button-label\", \"min-date\", \"clearable\"]));\n        };\n    }\n});\n","import script from \"./DayPicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DayPicker.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = { class: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\" };\nconst _hoisted_2 = { class: \"modal-content\" };\nconst _hoisted_3 = { class: \"modal-header\" };\nconst _hoisted_4 = {\n    id: \"modalTitleLabel\",\n    class: \"modal-title\"\n};\nconst _hoisted_5 = { class: \"modal-body\" };\nconst _hoisted_6 = { class: \"sticky-top\" };\nconst _hoisted_7 = /*#__PURE__*/ _createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"btn-close\",\n    \"data-bs-dismiss\": \"alert\",\n    \"aria-label\": \"Close\"\n}, null, -1);\nconst _hoisted_8 = { class: \"modal-footer\" };\nconst _hoisted_9 = [\"onClick\", \"disabled\"];\nconst _hoisted_10 = [\"onClick\", \"disabled\"];\nconst __default__ = {\n    name: 'ModalForm',\n    components: {},\n};\nimport { Modal } from 'bootstrap';\nimport { onMounted, ref, watch } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        isOpen: { type: Boolean },\n        isLocked: { type: Boolean },\n        onCancel: null,\n        onSave: null\n    },\n    emits: [\"interface\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const modalRef = ref();\n        const isMounted = ref(false);\n        const alerts = ref([]);\n        watch(() => props.isOpen, (newValue) => {\n            if (newValue) {\n                open();\n            }\n            else {\n                close();\n            }\n        });\n        function open() {\n            if (!isMounted.value) {\n                return;\n            }\n            const modal = Modal.getOrCreateInstance(modalRef.value);\n            if (!modal) {\n                return;\n            }\n            modal.show();\n        }\n        function cancel() {\n            props.onCancel();\n        }\n        function save() {\n            addAlert('info', 'Sending data, please wait...');\n            props.onSave();\n        }\n        function close() {\n            if (!isMounted.value) {\n                return;\n            }\n            const modal = Modal.getOrCreateInstance(modalRef.value);\n            if (!modal) {\n                return;\n            }\n            dismissAlerts();\n            modal.hide();\n        }\n        function addAlert(level, message) {\n            alerts.value.push({ level: level, message: message });\n        }\n        function dismissAlerts() {\n            alerts.value = [];\n        }\n        onMounted(() => {\n            isMounted.value = true;\n            emit('interface', {\n                close: close,\n                addAlert: addAlert,\n                dismissAlerts: dismissAlerts,\n            });\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                ref_key: \"modalRef\",\n                ref: modalRef,\n                class: \"modal fade\",\n                \"data-bs-backdrop\": \"static\",\n                \"data-bs-keyboard\": \"false\",\n                tabindex: \"-1\",\n                \"aria-labelledby\": \"modalTitleLabel\",\n                \"aria-hidden\": \"true\"\n            }, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _createElementVNode(\"h5\", _hoisted_4, [\n                                _renderSlot(_ctx.$slots, \"title\")\n                            ]),\n                            (!props.isLocked)\n                                ? (_openBlock(), _createElementBlock(\"button\", {\n                                    key: 0,\n                                    type: \"button\",\n                                    class: \"btn-close\",\n                                    \"aria-label\": \"Close\",\n                                    onClick: _cache[0] || (_cache[0] = _withModifiers(\n                                    //@ts-ignore\n                                    (...args) => (__props.onCancel && __props.onCancel(...args)), [\"stop\"]))\n                                }))\n                                : _createCommentVNode(\"\", true)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _createElementVNode(\"div\", _hoisted_6, [\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(alerts.value, (alert) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: alert.message,\n                                        class: _normalizeClass([`alert-${alert.level}`, \"alert alert-dismissible fade show\"]),\n                                        role: \"alert\"\n                                    }, [\n                                        _createTextVNode(_toDisplayString(alert.message) + \" \", 1),\n                                        _hoisted_7\n                                    ], 2));\n                                }), 128))\n                            ]),\n                            _renderSlot(_ctx.$slots, \"body\")\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_8, [\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"btn btn-secondary\",\n                                onClick: _withModifiers(cancel, [\"stop\"]),\n                                disabled: props.isLocked\n                            }, \" Cancel \", 8, _hoisted_9),\n                            _createElementVNode(\"button\", {\n                                type: \"button\",\n                                class: \"btn btn-primary\",\n                                onClick: _withModifiers(save, [\"stop\"]),\n                                disabled: props.isLocked\n                            }, \" Save \", 8, _hoisted_10)\n                        ])\n                    ])\n                ])\n            ], 512));\n        };\n    }\n});\n","import script from \"./ModalForm.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ModalForm.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderSlot as _renderSlot, isRef as _isRef, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst __default__ = {\n    name: 'TimePicker',\n    components: {},\n};\nimport Datepicker from '@vuepic/vue-datepicker';\nimport { computed, watch } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        hours: null,\n        minutes: null,\n        shouldReset: { type: Boolean }\n    },\n    emits: [\"updateTime\", \"onReset\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const time = computed({\n            get() {\n                return { hours: props.hours, minutes: props.minutes };\n            },\n            set(value) {\n                emit('updateTime', { hours: value.hours, minutes: value.minutes });\n            },\n        });\n        watch(() => props.shouldReset, (newValue) => {\n            if (newValue) {\n                time.value = {\n                    hours: props.hours,\n                    minutes: props.minutes,\n                };\n                emit('onReset');\n            }\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_unref(Datepicker), {\n                modelValue: _unref(time),\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(time) ? (time).value = $event : null)),\n                \"time-picker\": \"\",\n                transitions: false,\n                clearable: false,\n                \"hours-increment\": \"-1\",\n                \"minutes-increment\": \"-1\"\n            }, {\n                \"dp-input\": _withCtx(({ value }) => [\n                    _renderSlot(_ctx.$slots, \"input\", { value: value })\n                ]),\n                _: 3\n            }, 8, [\"modelValue\"]));\n        };\n    }\n});\n","import script from \"./TimePicker.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./TimePicker.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, isRef as _isRef, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, vModelText as _vModelText } from \"vue\";\nconst _hoisted_1 = { class: \"mb-2\" };\nconst _hoisted_2 = [\"id\", \"value\", \"disabled\"];\nconst _hoisted_3 = [\"for\"];\nconst _hoisted_4 = {\n    key: 0,\n    class: \"text-danger\"\n};\nconst _hoisted_5 = { class: \"form-floating\" };\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = /*#__PURE__*/ _createElementVNode(\"label\", {\n    for: \"input-weeks-interval\",\n    class: \"form-label\"\n}, \"Week interval\", -1);\nconst __default__ = {\n    name: 'PeriodicityByWeekEdit',\n    components: {},\n};\nimport { computed, ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        weekdays: null,\n        model: null,\n        isDisabled: { type: Boolean }\n    },\n    emits: [\"update:model\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const updatedModel = ref({\n            id: props.model.id,\n            start: props.model.start,\n            end: props.model.end,\n            periodicity_type: props.model.periodicity_type,\n            bw_weeks_interval: props.model.bw_weeks_interval,\n            bw_weekdays: props.model.bw_weekdays,\n        });\n        const selectedWeekDays = computed({\n            get() {\n                return updatedModel.value.bw_weekdays;\n            },\n            set(value) {\n                updatedModel.value.bw_weekdays = value;\n                emitUpdate();\n            },\n        });\n        const weekInterval = computed({\n            get() {\n                return updatedModel.value.bw_weeks_interval;\n            },\n            set(value) {\n                updatedModel.value.bw_weeks_interval = value;\n                emitUpdate();\n            },\n        });\n        const weekDaysClass = computed(() => {\n            return selectedWeekDays.value.length === 0 ? 'border border-danger rounded' : '';\n        });\n        function emitUpdate() {\n            emit('update:model', updatedModel.value);\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", {\n                        class: _normalizeClass(_unref(weekDaysClass))\n                    }, [\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.weekdays, (weekday) => {\n                            return (_openBlock(), _createElementBlock(\"div\", {\n                                key: weekday.num,\n                                class: \"form-check form-check-inline\"\n                            }, [\n                                _withDirectives(_createElementVNode(\"input\", {\n                                    class: \"form-check-input\",\n                                    type: \"checkbox\",\n                                    id: `checkbox-weekday-${weekday.num}`,\n                                    value: weekday.ref,\n                                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(selectedWeekDays) ? (selectedWeekDays).value = $event : null)),\n                                    disabled: props.isDisabled\n                                }, null, 8, _hoisted_2), [\n                                    [_vModelCheckbox, _unref(selectedWeekDays)]\n                                ]),\n                                _createElementVNode(\"label\", {\n                                    class: \"form-check-label\",\n                                    for: `checkbox-weekday-${weekday.num}`\n                                }, _toDisplayString(weekday.name), 9, _hoisted_3)\n                            ]));\n                        }), 128))\n                    ], 2),\n                    (_unref(selectedWeekDays).length === 0)\n                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, \"* Required\"))\n                        : _createCommentVNode(\"\", true)\n                ]),\n                _createElementVNode(\"div\", _hoisted_5, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                        type: \"number\",\n                        class: \"form-control\",\n                        id: \"input-weeks-interval\",\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => (_isRef(weekInterval) ? (weekInterval).value = $event : null)),\n                        min: \"1\",\n                        disabled: props.isDisabled\n                    }, null, 8, _hoisted_6), [\n                        [_vModelText, _unref(weekInterval)]\n                    ]),\n                    _hoisted_7\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./PeriodicityByWeekEdit.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PeriodicityByWeekEdit.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, isRef as _isRef, vModelSelect as _vModelSelect, normalizeClass as _normalizeClass, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = { class: \"input-group mb-3\" };\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"input-group-text\" }, \"Repeat each\", -1);\nconst _hoisted_3 = [\"disabled\"];\nconst _hoisted_4 = /*#__PURE__*/ _createElementVNode(\"option\", {\n    value: undefined,\n    disabled: \"\"\n}, \"Select an occurrence number\", -1);\nconst _hoisted_5 = [\"value\"];\nconst _hoisted_6 = [\"disabled\"];\nconst _hoisted_7 = /*#__PURE__*/ _createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n}, \"Select a day\", -1);\nconst _hoisted_8 = [\"value\"];\nconst _hoisted_9 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"input-group-text\" }, \"of each month\", -1);\nconst __default__ = {\n    name: 'PeriodicityByMonthEdit',\n    components: {},\n};\nimport { apiKey, requireInjection } from '@/assets/js/keys';\nimport { computed, onMounted, ref } from 'vue';\nimport { WeekDay } from '@/assets/js/types';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        weekdays: null,\n        model: null,\n        isDisabled: { type: Boolean }\n    },\n    emits: [\"update:model\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const api = requireInjection(apiKey);\n        const byMonthXChoices = ref([]);\n        const updatedModel = ref({\n            id: props.model.id,\n            start: props.model.start,\n            end: props.model.end,\n            periodicity_type: props.model.periodicity_type,\n            bm_day_choice: props.model.bm_day_choice,\n            bm_x_choice: props.model.bm_x_choice,\n        });\n        const selectedDay = computed({\n            get() {\n                return props.model.bm_day_choice;\n            },\n            set(value) {\n                updatedModel.value.bm_day_choice = value;\n                emitUpdate();\n            },\n        });\n        const selectedX = computed({\n            get() {\n                return props.model.bm_x_choice;\n            },\n            set(value) {\n                updatedModel.value.bm_x_choice = value;\n                emitUpdate();\n            },\n        });\n        function emitUpdate() {\n            emit('update:model', updatedModel.value);\n        }\n        const dayChoiceClass = computed(() => (selectedDay.value ? '' : 'border border-danger'));\n        onMounted(() => {\n            api.fetch.reservationPeriodicityByMonthXChoices().then((value) => (byMonthXChoices.value = value));\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _hoisted_2,\n                    _withDirectives(_createElementVNode(\"select\", {\n                        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(selectedX) ? (selectedX).value = $event : null)),\n                        class: _normalizeClass([\"form-select\", _unref(dayChoiceClass)]),\n                        \"aria-label\": \"Select occurrence number\",\n                        disabled: props.isDisabled\n                    }, [\n                        _hoisted_4,\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(byMonthXChoices.value, (x) => {\n                            return (_openBlock(), _createElementBlock(\"option\", {\n                                key: x[0],\n                                value: x[0]\n                            }, _toDisplayString(x[1]), 9, _hoisted_5));\n                        }), 128))\n                    ], 10, _hoisted_3), [\n                        [_vModelSelect, _unref(selectedX)]\n                    ]),\n                    _withDirectives(_createElementVNode(\"select\", {\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => (_isRef(selectedDay) ? (selectedDay).value = $event : null)),\n                        class: \"form-select\",\n                        \"aria-label\": \"Select a day\",\n                        disabled: props.isDisabled\n                    }, [\n                        _hoisted_7,\n                        (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.weekdays, (day) => {\n                            return (_openBlock(), _createElementBlock(\"option\", {\n                                key: day.num,\n                                value: day.ref\n                            }, _toDisplayString(day.name), 9, _hoisted_8));\n                        }), 128))\n                    ], 8, _hoisted_6), [\n                        [_vModelSelect, _unref(selectedDay)]\n                    ]),\n                    _hoisted_9\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./PeriodicityByMonthEdit.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PeriodicityByMonthEdit.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, isRef as _isRef, vModelSelect as _vModelSelect, withDirectives as _withDirectives, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = [\"disabled\"];\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"option\", {\n    value: undefined,\n    disabled: \"\"\n}, \"Select a periodicity type\", -1);\nconst _hoisted_3 = [\"value\"];\nconst __default__ = {\n    name: 'PeriodicitySelect',\n    components: {},\n};\nimport { computed, ref, watch } from 'vue';\nimport PeriodicityByWeekEdit from '@/components/PeriodicityByWeekEdit.vue';\nimport PeriodicityByMonthEdit from '@/components/PeriodicityByMonthEdit.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        types: null,\n        weekdays: null,\n        modelType: null,\n        modelPeriodicity: null,\n        isDisabled: { type: Boolean }\n    },\n    emits: [\"update:modelPeriodicity\", \"update:modelType\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const selectedType = computed({\n            get() {\n                return props.modelType;\n            },\n            set(value) {\n                emit('update:modelType', value);\n            },\n        });\n        const updatedModel = ref(props.modelPeriodicity);\n        watch(() => props.modelPeriodicity, (newValue) => {\n            Object.values(updatedModel.value).forEach((value) => {\n                value.start = newValue.BW.start;\n                value.end = newValue.BW.end;\n            });\n        });\n        const updatedModelByWeek = computed({\n            get() {\n                return updatedModel.value.BW;\n            },\n            set(value) {\n                updatedModel.value.BW = value;\n                emit('update:modelPeriodicity', updatedModel.value);\n            },\n        });\n        const updatedModelByMonth = computed({\n            get() {\n                return updatedModel.value.BM;\n            },\n            set(value) {\n                updatedModel.value.BM = value;\n                emit('update:modelPeriodicity', updatedModel.value);\n            },\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _withDirectives(_createElementVNode(\"select\", {\n                    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(selectedType) ? (selectedType).value = $event : null)),\n                    class: \"form-select mb-2\",\n                    \"aria-label\": \"Select periodicity type\",\n                    disabled: props.isDisabled\n                }, [\n                    _hoisted_2,\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.types, (type) => {\n                        return (_openBlock(), _createElementBlock(\"option\", {\n                            key: type[0],\n                            value: type\n                        }, _toDisplayString(type[1]), 9, _hoisted_3));\n                    }), 128))\n                ], 8, _hoisted_1), [\n                    [_vModelSelect, _unref(selectedType)]\n                ]),\n                (_unref(selectedType) && _unref(selectedType)[0] === 'BW')\n                    ? (_openBlock(), _createBlock(PeriodicityByWeekEdit, {\n                        key: 0,\n                        weekdays: props.weekdays,\n                        \"is-disabled\": props.isDisabled,\n                        model: _unref(updatedModelByWeek),\n                        \"onUpdate:model\": _cache[1] || (_cache[1] = ($event) => (_isRef(updatedModelByWeek) ? (updatedModelByWeek).value = $event : null))\n                    }, null, 8, [\"weekdays\", \"is-disabled\", \"model\"]))\n                    : _createCommentVNode(\"\", true),\n                (_unref(selectedType) && _unref(selectedType)[0] === 'BM')\n                    ? (_openBlock(), _createBlock(PeriodicityByMonthEdit, {\n                        key: 1,\n                        weekdays: props.weekdays,\n                        \"is-disabled\": props.isDisabled,\n                        model: _unref(updatedModelByMonth),\n                        \"onUpdate:model\": _cache[2] || (_cache[2] = ($event) => (_isRef(updatedModelByMonth) ? (updatedModelByMonth).value = $event : null))\n                    }, null, 8, [\"weekdays\", \"is-disabled\", \"model\"]))\n                    : _createCommentVNode(\"\", true)\n            ]));\n        };\n    }\n});\n","import script from \"./PeriodicitySelect.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./PeriodicitySelect.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = { class: \"modal-dialog modal-dialog-centered modal-dialog-scrollable\" };\nconst _hoisted_2 = { class: \"modal-content\" };\nconst _hoisted_3 = { class: \"modal-header\" };\nconst _hoisted_4 = {\n    id: \"modalTitleLabel\",\n    class: \"modal-title\"\n};\nconst _hoisted_5 = { class: \"modal-body\" };\nconst _hoisted_6 = { class: \"modal-footer\" };\nconst _hoisted_7 = [\"onClick\", \"disabled\"];\nconst _hoisted_8 = [\"onClick\", \"disabled\"];\nconst _hoisted_9 = { key: 0 };\nconst _hoisted_10 = /*#__PURE__*/ _createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n}, null, -1);\nconst _hoisted_11 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"visually-hidden\" }, \"Loading...\", -1);\nconst _hoisted_12 = [\n    _hoisted_10,\n    _hoisted_11\n];\nconst _hoisted_13 = { key: 1 };\nconst __default__ = {\n    name: 'ModalDialog',\n    components: {},\n};\nimport { onMounted, ref, watch } from 'vue';\nimport { Modal } from 'bootstrap';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        isOpen: { type: Boolean },\n        isLocked: { type: Boolean },\n        onCancel: null,\n        onConfirm: null\n    },\n    emits: [\"interface\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const isMounted = ref(false);\n        const modalRef = ref();\n        function cancel() {\n            props.onCancel?.();\n        }\n        function confirm() {\n            props.onConfirm?.();\n        }\n        watch(() => props.isOpen, (newValue) => {\n            if (newValue) {\n                open();\n            }\n            else {\n                close();\n            }\n        });\n        function open() {\n            if (!isMounted.value) {\n                return;\n            }\n            const modal = Modal.getOrCreateInstance(modalRef.value);\n            if (!modal) {\n                return;\n            }\n            modal.show();\n        }\n        function close() {\n            if (!isMounted.value) {\n                return;\n            }\n            const modal = Modal.getOrCreateInstance(modalRef.value);\n            if (!modal) {\n                return;\n            }\n            modal.hide();\n        }\n        onMounted(() => {\n            isMounted.value = true;\n            emit('interface', {\n                close: close,\n            });\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", {\n                ref_key: \"modalRef\",\n                ref: modalRef,\n                class: \"modal fade\",\n                \"data-bs-backdrop\": \"static\",\n                \"data-bs-keyboard\": \"false\",\n                tabindex: \"-1\",\n                \"aria-labelledby\": \"modalTitleLabel\",\n                \"aria-hidden\": \"true\"\n            }, [\n                _createElementVNode(\"div\", _hoisted_1, [\n                    _createElementVNode(\"div\", _hoisted_2, [\n                        _createElementVNode(\"div\", _hoisted_3, [\n                            _createElementVNode(\"h5\", _hoisted_4, [\n                                _renderSlot(_ctx.$slots, \"title\")\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_5, [\n                            _renderSlot(_ctx.$slots, \"body\")\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_6, [\n                            _renderSlot(_ctx.$slots, \"buttons\", {}, () => [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-secondary\",\n                                    onClick: _withModifiers(cancel, [\"stop\"]),\n                                    disabled: props.isLocked\n                                }, \" Cancel \", 8, _hoisted_7),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-primary\",\n                                    onClick: _withModifiers(confirm, [\"stop\"]),\n                                    disabled: props.isLocked\n                                }, [\n                                    (props.isLocked)\n                                        ? (_openBlock(), _createElementBlock(\"span\", _hoisted_9, _hoisted_12))\n                                        : (_openBlock(), _createElementBlock(\"span\", _hoisted_13, \"Confirm\"))\n                                ], 8, _hoisted_8)\n                            ])\n                        ])\n                    ])\n                ])\n            ], 512));\n        };\n    }\n});\n","import script from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ModalDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, createVNode as _createVNode, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelSelect as _vModelSelect, unref as _unref, normalizeClass as _normalizeClass, vModelCheckbox as _vModelCheckbox } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/ _createElementVNode(\"span\", null, \" You are about to remove a repetition. Doing so will cause the next reservations to be lost forever and unlink all previous reservations from this repetition.\", -1);\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\"br\", null, null, -1);\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\"span\", null, [\n    /*#__PURE__*/ _createElementVNode(\"b\", null, \"Are you sure to remove the repetition?\")\n], -1);\nconst _hoisted_4 = /*#__PURE__*/ _createElementVNode(\"span\", null, \" You are about to save changes to a periodic reservation. Would you like to apply the changes to the future reservations too?\", -1);\nconst _hoisted_5 = /*#__PURE__*/ _createElementVNode(\"br\", null, null, -1);\nconst _hoisted_6 = /*#__PURE__*/ _createElementVNode(\"span\", null, [\n    /*#__PURE__*/ _createElementVNode(\"b\", null, \"Applying the changes will overwrite previous values.\")\n], -1);\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = { key: 0 };\nconst _hoisted_10 = /*#__PURE__*/ _createElementVNode(\"span\", null, \"You will not be able to reserve the following dates:\", -1);\nconst _hoisted_11 = { key: 1 };\nconst _hoisted_12 = /*#__PURE__*/ _createElementVNode(\"span\", null, \"This reservation is not possible.\", -1);\nconst _hoisted_13 = [\n    _hoisted_12\n];\nconst _hoisted_14 = /*#__PURE__*/ _createElementVNode(\"br\", null, null, -1);\nconst _hoisted_15 = { key: 2 };\nconst _hoisted_16 = /*#__PURE__*/ _createElementVNode(\"span\", null, [\n    /*#__PURE__*/ _createTextVNode(\"The following reservations can be made, \"),\n    /*#__PURE__*/ _createElementVNode(\"b\", null, \"do you want to create them?\")\n], -1);\nconst _hoisted_17 = { class: \"text-start mb-2\" };\nconst _hoisted_18 = { key: 0 };\nconst _hoisted_19 = [\"onClick\"];\nconst _hoisted_20 = [\"onClick\"];\nconst _hoisted_21 = { key: 1 };\nconst _hoisted_22 = [\"onClick\"];\nconst _hoisted_23 = { class: \"form-floating mb-3\" };\nconst _hoisted_24 = [\"id\"];\nconst _hoisted_25 = [\"for\"];\nconst _hoisted_26 = { class: \"form-floating mb-3\" };\nconst _hoisted_27 = [\"id\"];\nconst _hoisted_28 = [\"for\"];\nconst _hoisted_29 = { class: \"form-floating mb-3\" };\nconst _hoisted_30 = [\"id\"];\nconst _hoisted_31 = /*#__PURE__*/ _createElementVNode(\"option\", {\n    value: \"-1\",\n    disabled: \"\"\n}, \"Select a room\", -1);\nconst _hoisted_32 = [\"value\"];\nconst _hoisted_33 = [\"for\"];\nconst _hoisted_34 = { class: \"mb-3\" };\nconst _hoisted_35 = { class: \"form-floating\" };\nconst _hoisted_36 = [\"id\", \"value\"];\nconst _hoisted_37 = [\"for\"];\nconst _hoisted_38 = { class: \"row m-0 gx-1 mb-3\" };\nconst _hoisted_39 = {\n    class: \"col\",\n    style: { \"min-width\": \"100px\" }\n};\nconst _hoisted_40 = { class: \"form-floating\" };\nconst _hoisted_41 = [\"id\", \"value\"];\nconst _hoisted_42 = [\"for\"];\nconst _hoisted_43 = {\n    class: \"col\",\n    style: { \"min-width\": \"100px\" }\n};\nconst _hoisted_44 = { class: \"form-floating\" };\nconst _hoisted_45 = [\"id\", \"value\"];\nconst _hoisted_46 = [\"for\"];\nconst _hoisted_47 = { class: \"form-floating mb-3\" };\nconst _hoisted_48 = [\"id\", \"value\"];\nconst _hoisted_49 = [\"for\"];\nconst _hoisted_50 = { class: \"form-floating mb-3\" };\nconst _hoisted_51 = [\"id\"];\nconst _hoisted_52 = /*#__PURE__*/ _createElementVNode(\"option\", {\n    value: -1,\n    disabled: \"\"\n}, \"Select a reservation type\", -1);\nconst _hoisted_53 = [\"value\"];\nconst _hoisted_54 = [\"for\"];\nconst _hoisted_55 = {\n    key: 0,\n    class: \"mb-3\"\n};\nconst _hoisted_56 = {\n    key: 1,\n    class: \"mb-3 border rounded p-2\"\n};\nconst _hoisted_57 = { class: \"row mb-2 gx-1\" };\nconst _hoisted_58 = { class: \"col\" };\nconst _hoisted_59 = { class: \"form-floating\" };\nconst _hoisted_60 = [\"id\", \"value\", \"disabled\"];\nconst _hoisted_61 = [\"for\"];\nconst _hoisted_62 = { class: \"form-check form-switch mb-3\" };\nconst _hoisted_63 = [\"id\"];\nconst _hoisted_64 = [\"for\"];\nconst __default__ = {\n    name: 'RoomReservationForm',\n    components: {},\n};\nimport { convertDecimalTimeToHuman, parseReason } from '@/helpers';\nimport { apiKey, requireInjection } from '@/assets/js/keys';\nimport DayPicker from '@/components/DayPicker.vue';\nimport ModalForm from '@/components/ModalForm.vue';\nimport TimePicker from '@/components/TimePicker.vue';\nimport { computed, Ref, ref, watch, watchEffect } from 'vue';\nimport PeriodicitySelect from '@/components/PeriodicitySelect.vue';\nimport ModalDialog from '@/components/ModalDialog.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        reservation: null,\n        isOpen: { type: Boolean },\n        isNew: { type: Boolean },\n        rooms: null,\n        reservationTypes: null,\n        users: null,\n        periodicityTypes: null,\n        weekdays: null,\n        onPeriodicityDelete: null\n    },\n    emits: [\"saved\", \"closed\", \"cancelled\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const current_conflict = ref();\n        const api = requireInjection(apiKey);\n        class ReservationTime {\n            hours = 0;\n            minutes = 0;\n            static toString = (time) => {\n                return `${time.hours}:${time.minutes}:00`;\n            };\n            static fromString(time) {\n                const array = time.split(':');\n                const out = new ReservationTime();\n                out.hours = parseInt(array[0]);\n                out.minutes = parseInt(array[1]);\n                return out;\n            }\n        }\n        const shouldDayPickerReset = ref(false);\n        const shouldStartTimePickerReset = ref(false);\n        const shouldEndTimePickerReset = ref(false);\n        const reservationResponsibleUsername = computed(() => {\n            const user = props.users[props.reservation.responsible];\n            return user ? `${user.first_name} ${user.last_name} (${user.username})` : 'Unknown';\n        });\n        const formInterface = ref();\n        const isFormLocked = ref(false);\n        const isFormOpen = ref(props.isOpen);\n        watch(() => props.isOpen, (newValue) => {\n            isFormOpen.value = newValue;\n        });\n        const isPeriodicityDeletionDialogOpen = ref(false);\n        const isReservationEditDialogOpen = ref(false);\n        const isDialogLocked = ref(false);\n        const isReservationConflictDialogOpen = ref(false);\n        const title = ref(props.reservation.title);\n        const description = ref(props.reservation.description);\n        const selectedResponsible = ref(props.reservation.responsible);\n        const selectedRoom = ref(props.reservation.room);\n        const selectedType = ref(props.reservation.reservation_type);\n        const isPeriodic = computed(() => props.reservation.periodicity != null || periodicityData.value != null);\n        const email = ref(props.reservation.email);\n        const startTime = ref(ReservationTime.fromString(props.reservation.start_time));\n        const endTime = ref(ReservationTime.fromString(props.reservation.end_time));\n        const date = ref(props.reservation.date);\n        const isCreatingPeriodicity = ref(false);\n        // Get the possibly existing periodicity values\n        const initPeriodicity = computed(() => (props.reservation.periodicity ? props.reservation.periodicity : null));\n        const periodicityStart = ref(initPeriodicity.value ? initPeriodicity.value.periodicity.start : props.reservation.date);\n        const periodicityEndMinDate = computed(() => {\n            const startDate = new Date(periodicityStart.value);\n            return new Date(`${startDate.getFullYear()}-${startDate.getMonth() + 1}-${startDate.getDate() + 1}`);\n        });\n        const periodicityEnd = ref(initPeriodicity.value ? initPeriodicity.value.periodicity.end : periodicityEndMinDate.value.toLocaleDateString());\n        const currentDay = new Date(props.reservation.date).getDay();\n        const currentWeekdayRef = computed(() => {\n            const weekday = props.weekdays.find((d) => d.num === currentDay - 1);\n            return weekday?.ref;\n        });\n        const selectedPeriodicityType = ref(initPeriodicity.value\n            ? props.periodicityTypes.find((t) => t[0] === initPeriodicity.value?.periodicity.periodicity_type)\n            : undefined);\n        // Update the reservation periodicity form if the provided periodicity have changed\n        watch(() => props.reservation, (newValue) => {\n            const periodicity = newValue.periodicity;\n            if (periodicity) {\n                selectedPeriodicityType.value = props.periodicityTypes.find((t) => t[0] === periodicity.periodicity.periodicity_type);\n                periodicityStart.value = periodicity.periodicity.start;\n                periodicityEnd.value = periodicity.periodicity.end;\n            }\n            else {\n                selectedPeriodicityType.value = undefined;\n                periodicityStart.value = props.reservation.date;\n                periodicityEnd.value = periodicityEndMinDate.value.toLocaleDateString();\n            }\n        });\n        const periodicityData = ref(initPeriodicity.value ? initPeriodicity.value.periodicity : null);\n        const requiredClass = 'border border-danger rounded';\n        const selectPeriodicityClass = computed(() => {\n            return isPeriodic.value && selectedPeriodicityType.value === undefined ? requiredClass : '';\n        });\n        const originalDuration = endTime.value.hours * 60 + endTime.value.minutes - (startTime.value.hours * 60 + startTime.value.minutes);\n        // Create an object of each type\n        const periodicityByWeek = ref({\n            id: selectedPeriodicityType.value && selectedPeriodicityType.value[0] === 'BW' && initPeriodicity.value\n                ? initPeriodicity.value.periodicity.id\n                : -1,\n            start: periodicityStart.value,\n            end: periodicityEnd.value,\n            periodicity_type: 'BW',\n            bw_weekdays: currentWeekdayRef.value ? [currentWeekdayRef.value] : [],\n            bw_weeks_interval: 1,\n        });\n        const periodicityByMonth = ref({\n            id: selectedPeriodicityType.value && selectedPeriodicityType.value[0] === 'BM' && initPeriodicity.value\n                ? initPeriodicity.value.periodicity.id\n                : -1,\n            start: periodicityStart.value,\n            end: periodicityEnd.value,\n            periodicity_type: 'BM',\n            bm_x_choice: 1,\n            bm_day_choice: currentWeekdayRef.value ?? '',\n        });\n        const periodicityEachMonthSameDate = ref({\n            id: selectedPeriodicityType.value && selectedPeriodicityType.value[0] === 'EM' && initPeriodicity.value\n                ? initPeriodicity.value.periodicity.id\n                : -1,\n            start: periodicityStart.value,\n            end: periodicityEnd.value,\n            periodicity_type: 'EM',\n        });\n        // Fill the values specific to the periodicity type\n        if (props.reservation.periodicity) {\n            switch (props.reservation.periodicity.periodicity.periodicity_type) {\n                case 'BW':\n                    {\n                        const byWeek = props.reservation.periodicity.periodicity;\n                        periodicityByWeek.value.bw_weekdays = byWeek.bw_weekdays;\n                        periodicityByWeek.value.bw_weeks_interval = byWeek.bw_weeks_interval;\n                    }\n                    break;\n                case 'BM':\n                    {\n                        const byMonth = props.reservation.periodicity.periodicity;\n                        periodicityByMonth.value.bm_day_choice = byMonth.bm_day_choice;\n                        periodicityByMonth.value.bm_x_choice = byMonth.bm_x_choice;\n                    }\n                    break;\n            }\n        }\n        const periodicityChoice = ref({\n            BW: periodicityByWeek.value,\n            BM: periodicityByMonth.value,\n            EM: periodicityEachMonthSameDate.value,\n        });\n        watch(periodicityStart, (newStart) => {\n            Object.values(periodicityChoice.value).forEach((periodicity) => {\n                periodicity.start = newStart;\n            });\n        });\n        watch(periodicityEnd, (newEnd) => {\n            Object.values(periodicityChoice.value).forEach((periodicity) => {\n                periodicity.end = newEnd;\n            });\n        });\n        watchEffect(() => {\n            periodicityChoice.value = {\n                BW: periodicityByWeek.value,\n                BM: periodicityByMonth.value,\n                EM: periodicityEachMonthSameDate.value,\n            };\n        });\n        function resetValues() {\n            title.value = props.reservation.title;\n            description.value = props.reservation.description;\n            selectedResponsible.value = props.reservation.responsible;\n            selectedRoom.value = props.reservation.room;\n            selectedType.value = props.reservation.reservation_type;\n            periodicityData.value = initPeriodicity.value ? initPeriodicity.value.periodicity : null;\n            email.value = props.reservation.email;\n            startTime.value = ReservationTime.fromString(props.reservation.start_time);\n            endTime.value = ReservationTime.fromString(props.reservation.end_time);\n            date.value = props.reservation.date;\n            shouldDayPickerReset.value = true;\n            shouldStartTimePickerReset.value = true;\n            shouldEndTimePickerReset.value = true;\n        }\n        function onFormCancel() {\n            resetValues();\n            cancel();\n        }\n        async function onFormSave() {\n            isFormLocked.value = true;\n            if (!props.isNew && selectedPeriodicityType.value) {\n                switchToEditDialog();\n            }\n            else {\n                saveReservation();\n            }\n        }\n        function onPeriodicityDeletionCancel() {\n            switchToForm();\n        }\n        function onPeriodicityDeletionConfirm() {\n            isDialogLocked.value = true;\n            props.onPeriodicityDelete(props.reservation).then((_) => {\n                periodicityData.value = null;\n                isDialogLocked.value = false;\n                switchToForm();\n            });\n        }\n        function onReservationEditRefuse() {\n            isDialogLocked.value = true;\n            saveReservation();\n            isReservationEditDialogOpen.value = false;\n            isDialogLocked.value = false;\n        }\n        function onReservationEditConfirm() {\n            isDialogLocked.value = false;\n            isFormLocked.value = false;\n            switchToForm();\n        }\n        function onReservationConflictRefuseCreation() {\n            isFormLocked.value = false;\n            switchToForm();\n        }\n        function onReservationConflictAcceptCreation() {\n            console.log('create reservations');\n            if (!current_conflict.value) {\n                isFormLocked.value = false;\n                switchToForm();\n                return;\n            }\n            saveReservation(true);\n        }\n        function extractPeriodicity() {\n            if (!selectedPeriodicityType.value) {\n                return null;\n            }\n            let periodicityToUpdate;\n            switch (selectedPeriodicityType.value[0]) {\n                case 'BW':\n                    periodicityToUpdate = periodicityChoice.value.BW;\n                    break;\n                case 'EM':\n                    periodicityToUpdate = periodicityChoice.value.EM;\n                    break;\n                case 'BM':\n                    periodicityToUpdate = periodicityChoice.value.BM;\n                    break;\n            }\n            return periodicityToUpdate;\n        }\n        function saveReservation(createRepetitions = false) {\n            const newPeriodicityData = extractPeriodicity();\n            const newPeriodicity = newPeriodicityData\n                ? {\n                    periodicity: newPeriodicityData,\n                }\n                : props.reservation.periodicity;\n            const obj = {\n                date: date.value,\n                description: description.value,\n                email: email.value,\n                end_time: ReservationTime.toString(endTime.value),\n                id: Math.max(0, props.reservation.id),\n                periodicity: newPeriodicity,\n                responsible: selectedResponsible.value,\n                room: selectedRoom.value,\n                start_time: ReservationTime.toString(startTime.value),\n                title: title.value,\n                reservation_type: selectedType.value,\n                create_repetitions: createRepetitions,\n            };\n            const method = props.isNew ? api.post : api.put;\n            method\n                .roomReservation(obj)\n                .then((value) => {\n                emit('saved', value);\n                close();\n            }, (reason) => {\n                if (reason instanceof Object && Object.keys(reason).includes('periodicity')) {\n                    const periodicityError = reason.periodicity;\n                    console.log(periodicityError);\n                    let possible_reservations = [];\n                    let impossible_reservations_per_day = {};\n                    let impossible_reservations = {\n                        courses: [],\n                        reservations: [],\n                    };\n                    let isPerDay = false;\n                    if (Object.keys(periodicityError).includes('ok_reservations')) {\n                        // Multiple reservations can be created\n                        possible_reservations = periodicityError.ok_reservations;\n                        isPerDay = true;\n                    }\n                    if (Object.keys(periodicityError).includes('nok_reservations')) {\n                        if (isPerDay) {\n                            impossible_reservations_per_day = periodicityError.nok_reservations;\n                        }\n                        else {\n                            impossible_reservations = periodicityError.nok_reservations;\n                        }\n                    }\n                    current_conflict.value = {\n                        possible_reservations: possible_reservations,\n                        impossible_reservations: impossible_reservations,\n                        impossible_reservations_per_day: impossible_reservations_per_day,\n                    };\n                    switchToConflictDialog();\n                }\n                else {\n                    handleReason(reason);\n                }\n            })\n                .catch((reason) => handleReason(reason));\n        }\n        function removePeriodicity() {\n            // If a periodicity exists then ask confirmation...\n            if (periodicityData.value && periodicityData.value.id > 0) {\n                switchToPeriodicityDeletionDialog();\n                return;\n            }\n            // ...otherwise just cancel the creation\n            isCreatingPeriodicity.value = false;\n        }\n        function switchToPeriodicityDeletionDialog() {\n            isFormOpen.value = false;\n            isReservationConflictDialogOpen.value = false;\n            isReservationEditDialogOpen.value = false;\n            isPeriodicityDeletionDialogOpen.value = true;\n        }\n        function switchToForm() {\n            isPeriodicityDeletionDialogOpen.value = false;\n            isReservationConflictDialogOpen.value = false;\n            isReservationEditDialogOpen.value = false;\n            isFormOpen.value = true;\n        }\n        function switchToEditDialog() {\n            isPeriodicityDeletionDialogOpen.value = false;\n            isReservationConflictDialogOpen.value = false;\n            isFormOpen.value = false;\n            isReservationEditDialogOpen.value = true;\n        }\n        function switchToConflictDialog() {\n            isFormOpen.value = false;\n            isPeriodicityDeletionDialogOpen.value = false;\n            isReservationEditDialogOpen.value = false;\n            isReservationConflictDialogOpen.value = true;\n        }\n        function handleReason(reason) {\n            formInterface.value?.dismissAlerts();\n            parseReason(reason, formInterface.value?.addAlert);\n            isFormLocked.value = false;\n        }\n        function onFormInterface(value) {\n            formInterface.value = value;\n        }\n        function updateDate(newDate) {\n            date.value = newDate.replaceAll('/', '-');\n            if (props.isNew) {\n                periodicityStart.value = date.value;\n            }\n        }\n        function updatePeriodicityEndDate(newDate) {\n            periodicityEnd.value = newDate.replaceAll('/', '-');\n        }\n        /**\n         * Sets the reservation start time. The end time is changed so that the duration stays the same if\n         * the new start time is after the end time.\n         * @param time\n         */\n        function updateStartTime(time) {\n            // Compute the new start time and the end time as number of minutes\n            const newStartTimeAbsoluteTime = time.hours * 60 + time.minutes;\n            let endAbsoluteTime = endTime.value.hours * 60 + endTime.value.minutes;\n            // Make sure the start time stays before the end time\n            if (newStartTimeAbsoluteTime >= endAbsoluteTime) {\n                // New start time is after the end time\n                // Apply the duration difference to the end time\n                endAbsoluteTime = newStartTimeAbsoluteTime + originalDuration;\n                updateEndTime({ hours: Math.trunc(endAbsoluteTime / 60), minutes: endAbsoluteTime % 60 });\n            }\n            // Change the start time\n            startTime.value = time;\n        }\n        /**\n         * Sets the reservation end time. The start time is changed so that the duration stays the same if\n         * the new end time is before the end time.\n         * @param time\n         */\n        function updateEndTime(time) {\n            // Compute the new end time and the start time as number of minutes\n            const newEndTimeAbsoluteTime = time.hours * 60 + time.minutes;\n            let startAbsoluteTime = startTime.value.hours * 60 + startTime.value.minutes;\n            // Make sure the end time stays after the start time\n            if (newEndTimeAbsoluteTime <= startAbsoluteTime) {\n                // New end time is before the start time\n                // Apply the duration difference to the start time\n                startAbsoluteTime = newEndTimeAbsoluteTime - originalDuration;\n                updateStartTime({ hours: Math.trunc(startAbsoluteTime / 60), minutes: startAbsoluteTime % 60 });\n            }\n            // Change the end time\n            endTime.value = time;\n        }\n        function parseCourseConflict(course) {\n            const array = course.split('_');\n            return `${array[0]} in room ${array[1]} by ${array[2]} from ${convertDecimalTimeToHuman(parseInt(array[4]) / 60)} to ${convertDecimalTimeToHuman(parseInt(array[5]) / 60)}`;\n        }\n        function parseReservationConflict(reservation) {\n            const array = reservation.split('_');\n            return `${array[1]} in room ${array[2]} by ${array[3]} from ${array[4].substring(0, array[4].lastIndexOf(':'))} to ${array[5].substring(0, array[5].lastIndexOf(':'))}`;\n        }\n        function generateId(element) {\n            return `edit-room-reservation-${element}-${props.reservation.id}`;\n        }\n        function close() {\n            isFormLocked.value = false;\n            formInterface.value?.close();\n            emit('closed');\n        }\n        function cancel() {\n            formInterface.value?.close();\n            emit('cancelled');\n        }\n        function addPeriodicity() {\n            isCreatingPeriodicity.value = true;\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createVNode(ModalDialog, {\n                    \"is-open\": isPeriodicityDeletionDialogOpen.value,\n                    \"is-locked\": isDialogLocked.value,\n                    \"on-cancel\": onPeriodicityDeletionCancel,\n                    \"on-confirm\": onPeriodicityDeletionConfirm\n                }, {\n                    title: _withCtx(() => [\n                        _createTextVNode(\"Periodicity deletion\")\n                    ]),\n                    body: _withCtx(() => [\n                        _hoisted_1,\n                        _hoisted_2,\n                        _hoisted_3\n                    ]),\n                    _: 1\n                }, 8, [\"is-open\", \"is-locked\"]),\n                _createVNode(ModalDialog, {\n                    \"is-open\": isReservationEditDialogOpen.value,\n                    \"is-locked\": isDialogLocked.value\n                }, {\n                    title: _withCtx(() => [\n                        _createTextVNode(\"Reservation changes\")\n                    ]),\n                    body: _withCtx(() => [\n                        _hoisted_4,\n                        _hoisted_5,\n                        _hoisted_6\n                    ]),\n                    buttons: _withCtx(() => [\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-secondary\",\n                            onClick: _withModifiers(onReservationEditRefuse, [\"stop\"])\n                        }, \" Only this one \", 8, _hoisted_7),\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn btn-primary\",\n                            onClick: _withModifiers(onReservationEditConfirm, [\"stop\"]),\n                            disabled: \"\"\n                        }, \" This one and the next \", 8, _hoisted_8)\n                    ]),\n                    _: 1\n                }, 8, [\"is-open\", \"is-locked\"]),\n                _createVNode(ModalDialog, {\n                    \"is-open\": isReservationConflictDialogOpen.value,\n                    \"is-locked\": isDialogLocked.value\n                }, {\n                    title: _withCtx(() => [\n                        _createTextVNode(\"Reservation conflicts\")\n                    ]),\n                    body: _withCtx(() => [\n                        (current_conflict.value &&\n                            current_conflict.value.impossible_reservations_per_day &&\n                            current_conflict.value.possible_reservations.length > 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                _hoisted_10,\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.entries(current_conflict.value.impossible_reservations_per_day), (entry) => {\n                                    return (_openBlock(), _createElementBlock(\"ul\", {\n                                        class: \"text-start mb-2\",\n                                        key: entry[0]\n                                    }, [\n                                        _createElementVNode(\"li\", null, _toDisplayString(entry[0]), 1)\n                                    ]));\n                                }), 128))\n                            ]))\n                            : _createCommentVNode(\"\", true),\n                        (current_conflict.value &&\n                            current_conflict.value.impossible_reservations &&\n                            current_conflict.value.possible_reservations.length === 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _hoisted_13))\n                            : _createCommentVNode(\"\", true),\n                        _hoisted_14,\n                        (current_conflict.value && current_conflict.value.possible_reservations.length > 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                _hoisted_16,\n                                _createElementVNode(\"ul\", _hoisted_17, [\n                                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(current_conflict.value.possible_reservations, (reservation) => {\n                                        return (_openBlock(), _createElementBlock(\"li\", {\n                                            key: reservation.id\n                                        }, _toDisplayString(new Date(reservation.date).toLocaleDateString()\n                                        /*`The ${new Date(reservation.date).toLocaleDateString()} in room ${\n                                            reservation.room\n                                        } from ${reservation.start_time} to ${reservation.end_time}`*/ ), 1));\n                                    }), 128))\n                                ])\n                            ]))\n                            : _createCommentVNode(\"\", true)\n                    ]),\n                    buttons: _withCtx(() => [\n                        (current_conflict.value && current_conflict.value.possible_reservations.length > 0)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-secondary\",\n                                    onClick: _withModifiers(onReservationConflictRefuseCreation, [\"stop\"])\n                                }, \" No \", 8, _hoisted_19),\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-primary\",\n                                    onClick: _withModifiers(onReservationConflictAcceptCreation, [\"stop\"])\n                                }, \" Yes \", 8, _hoisted_20)\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_21, [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-secondary\",\n                                    onClick: _withModifiers(onReservationConflictRefuseCreation, [\"stop\"])\n                                }, \" Cancel \", 8, _hoisted_22)\n                            ]))\n                    ]),\n                    _: 1\n                }, 8, [\"is-open\", \"is-locked\"]),\n                _createVNode(ModalForm, {\n                    \"is-open\": isFormOpen.value,\n                    \"is-locked\": isFormLocked.value,\n                    \"on-cancel\": onFormCancel,\n                    \"on-save\": onFormSave,\n                    onInterface: onFormInterface,\n                    class: \"text-start\"\n                }, {\n                    title: _withCtx(() => [\n                        _createTextVNode(\"Room reservation\")\n                    ]),\n                    body: _withCtx(() => [\n                        _createElementVNode(\"div\", _hoisted_23, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                id: generateId('title'),\n                                type: \"text\",\n                                class: \"form-control\",\n                                placeholder: \"Title\",\n                                maxlength: \"30\",\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => ((title).value = $event))\n                            }, null, 8, _hoisted_24), [\n                                [_vModelText, title.value]\n                            ]),\n                            _createElementVNode(\"label\", {\n                                for: generateId('title'),\n                                class: \"form-label\"\n                            }, \"Title\", 8, _hoisted_25)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_26, [\n                            _withDirectives(_createElementVNode(\"textarea\", {\n                                id: generateId('description'),\n                                type: \"text\",\n                                class: \"form-control\",\n                                placeholder: \"Description\",\n                                rows: \"2\",\n                                \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => ((description).value = $event))\n                            }, null, 8, _hoisted_27), [\n                                [_vModelText, description.value]\n                            ]),\n                            _createElementVNode(\"label\", {\n                                for: generateId('description'),\n                                class: \"form-label\"\n                            }, \"Description\", 8, _hoisted_28)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_29, [\n                            _withDirectives(_createElementVNode(\"select\", {\n                                class: \"form-select\",\n                                id: generateId('room'),\n                                \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event) => ((selectedRoom).value = $event))\n                            }, [\n                                _hoisted_31,\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.rooms, (room) => {\n                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                        key: room.id,\n                                        value: room.id\n                                    }, _toDisplayString(room.name), 9, _hoisted_32));\n                                }), 128))\n                            ], 8, _hoisted_30), [\n                                [_vModelSelect, selectedRoom.value]\n                            ]),\n                            _createElementVNode(\"label\", {\n                                for: generateId('room'),\n                                class: \"form-label\"\n                            }, \"Room\", 8, _hoisted_33)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_34, [\n                            _createVNode(DayPicker, {\n                                \"start-date\": date.value,\n                                \"should-reset\": shouldDayPickerReset.value,\n                                \"on-reset\": (shouldDayPickerReset.value = false),\n                                \"onUpdate:date\": updateDate,\n                                \"min-date\": new Date(),\n                                clearable: false\n                            }, {\n                                input: _withCtx(({ value }) => [\n                                    _createElementVNode(\"div\", _hoisted_35, [\n                                        _createElementVNode(\"input\", {\n                                            id: generateId('date'),\n                                            type: \"text\",\n                                            class: \"form-control\",\n                                            placeholder: \"Date\",\n                                            value: value\n                                        }, null, 8, _hoisted_36),\n                                        _createElementVNode(\"label\", {\n                                            for: generateId('date'),\n                                            class: \"form-label\"\n                                        }, \"Date\", 8, _hoisted_37)\n                                    ])\n                                ]),\n                                _: 1\n                            }, 8, [\"start-date\", \"should-reset\", \"on-reset\", \"min-date\"])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_38, [\n                            _createElementVNode(\"div\", _hoisted_39, [\n                                _createVNode(TimePicker, {\n                                    hours: startTime.value.hours,\n                                    minutes: startTime.value.minutes,\n                                    onUpdateTime: updateStartTime,\n                                    \"should-reset\": shouldStartTimePickerReset.value,\n                                    onOnReset: _cache[3] || (_cache[3] = ($event) => (shouldStartTimePickerReset.value = false))\n                                }, {\n                                    input: _withCtx(({ value }) => [\n                                        _createElementVNode(\"div\", _hoisted_40, [\n                                            _createElementVNode(\"input\", {\n                                                id: generateId('startTime'),\n                                                type: \"text\",\n                                                class: \"form-control\",\n                                                placeholder: \"Start time\",\n                                                value: value,\n                                                readonly: \"\"\n                                            }, null, 8, _hoisted_41),\n                                            _createElementVNode(\"label\", {\n                                                for: generateId('startTime'),\n                                                class: \"form-label\"\n                                            }, \"Start time\", 8, _hoisted_42)\n                                        ])\n                                    ]),\n                                    _: 1\n                                }, 8, [\"hours\", \"minutes\", \"should-reset\"])\n                            ]),\n                            _createElementVNode(\"div\", _hoisted_43, [\n                                _createVNode(TimePicker, {\n                                    hours: endTime.value.hours,\n                                    minutes: endTime.value.minutes,\n                                    onUpdateTime: updateEndTime,\n                                    \"should-reset\": shouldEndTimePickerReset.value,\n                                    onOnReset: _cache[4] || (_cache[4] = ($event) => (shouldEndTimePickerReset.value = false))\n                                }, {\n                                    input: _withCtx(({ value }) => [\n                                        _createElementVNode(\"div\", _hoisted_44, [\n                                            _createElementVNode(\"input\", {\n                                                id: generateId('endTime'),\n                                                type: \"text\",\n                                                class: \"form-control\",\n                                                placeholder: \"End time\",\n                                                value: value,\n                                                readonly: \"\"\n                                            }, null, 8, _hoisted_45),\n                                            _createElementVNode(\"label\", {\n                                                for: generateId('endTime'),\n                                                class: \"form-label\"\n                                            }, \"End time\", 8, _hoisted_46)\n                                        ])\n                                    ]),\n                                    _: 1\n                                }, 8, [\"hours\", \"minutes\", \"should-reset\"])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_47, [\n                            _createElementVNode(\"input\", {\n                                id: generateId('responsible'),\n                                type: \"text\",\n                                class: \"form-control\",\n                                placeholder: \"Responsible\",\n                                value: _unref(reservationResponsibleUsername),\n                                disabled: \"\"\n                            }, null, 8, _hoisted_48),\n                            _createElementVNode(\"label\", {\n                                for: generateId('responsible'),\n                                class: \"form-label\"\n                            }, \"Responsible\", 8, _hoisted_49)\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_50, [\n                            _withDirectives(_createElementVNode(\"select\", {\n                                class: \"form-select\",\n                                id: generateId('reservationType'),\n                                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((selectedType).value = $event))\n                            }, [\n                                _hoisted_52,\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(props.reservationTypes, (type) => {\n                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                        key: type.id,\n                                        value: type.id\n                                    }, _toDisplayString(type.name), 9, _hoisted_53));\n                                }), 128))\n                            ], 8, _hoisted_51), [\n                                [_vModelSelect, selectedType.value]\n                            ]),\n                            _createElementVNode(\"label\", {\n                                for: generateId('reservationType'),\n                                class: \"form-label\"\n                            }, \"Reservation type\", 8, _hoisted_54)\n                        ]),\n                        (!_unref(isPeriodic) && !isCreatingPeriodicity.value)\n                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_55, [\n                                _createElementVNode(\"button\", {\n                                    type: \"button\",\n                                    class: \"btn btn-info\",\n                                    onClick: addPeriodicity\n                                }, \"Repeat\")\n                            ]))\n                            : (_openBlock(), _createElementBlock(\"div\", _hoisted_56, [\n                                _createElementVNode(\"div\", { class: \"mb-2 text-center\" }, [\n                                    _createElementVNode(\"button\", {\n                                        type: \"button\",\n                                        class: \"btn btn-danger btn-sm\",\n                                        onClick: removePeriodicity\n                                    }, \" Remove repetition \")\n                                ]),\n                                _createElementVNode(\"div\", _hoisted_57, [\n                                    _createElementVNode(\"div\", _hoisted_58, [\n                                        _createVNode(DayPicker, {\n                                            \"start-date\": periodicityEnd.value,\n                                            \"should-reset\": shouldDayPickerReset.value,\n                                            \"on-reset\": (shouldDayPickerReset.value = false),\n                                            \"onUpdate:date\": updatePeriodicityEndDate,\n                                            \"min-date\": _unref(periodicityEndMinDate),\n                                            clearable: false\n                                        }, {\n                                            input: _withCtx(({ value }) => [\n                                                _createElementVNode(\"div\", _hoisted_59, [\n                                                    _createElementVNode(\"input\", {\n                                                        id: generateId('periodicity-end-date'),\n                                                        type: \"text\",\n                                                        class: \"form-control\",\n                                                        placeholder: \"Date\",\n                                                        value: value,\n                                                        readonly: \"\",\n                                                        disabled: _unref(isPeriodic)\n                                                    }, null, 8, _hoisted_60),\n                                                    _createElementVNode(\"label\", {\n                                                        for: generateId('periodicity-end-date'),\n                                                        class: \"form-label\"\n                                                    }, \"Until\", 8, _hoisted_61)\n                                                ])\n                                            ]),\n                                            _: 1\n                                        }, 8, [\"start-date\", \"should-reset\", \"on-reset\", \"min-date\"])\n                                    ])\n                                ]),\n                                _createVNode(PeriodicitySelect, {\n                                    class: _normalizeClass(_unref(selectPeriodicityClass)),\n                                    types: props.periodicityTypes,\n                                    weekdays: props.weekdays,\n                                    \"model-type\": selectedPeriodicityType.value,\n                                    \"onUpdate:model-type\": _cache[6] || (_cache[6] = ($event) => ((selectedPeriodicityType).value = $event)),\n                                    modelPeriodicity: periodicityChoice.value,\n                                    \"onUpdate:modelPeriodicity\": _cache[7] || (_cache[7] = ($event) => ((periodicityChoice).value = $event)),\n                                    \"is-disabled\": _unref(isPeriodic)\n                                }, null, 8, [\"class\", \"types\", \"weekdays\", \"model-type\", \"modelPeriodicity\", \"is-disabled\"])\n                            ])),\n                        _createElementVNode(\"div\", _hoisted_62, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                class: \"form-check-input\",\n                                type: \"checkbox\",\n                                \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event) => ((email).value = $event)),\n                                role: \"switch\",\n                                id: generateId('email'),\n                                disabled: \"\"\n                            }, null, 8, _hoisted_63), [\n                                [_vModelCheckbox, email.value]\n                            ]),\n                            _createElementVNode(\"label\", {\n                                class: \"form-check-label\",\n                                for: generateId('email')\n                            }, \"Send a confirm email?\", 8, _hoisted_64)\n                        ])\n                    ]),\n                    _: 1\n                }, 8, [\"is-open\", \"is-locked\"])\n            ]));\n        };\n    }\n});\n","import script from \"./RoomReservationForm.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomReservationForm.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createVNode as _createVNode, renderSlot as _renderSlot, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-39e2e90a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"row m-0 h-100\" };\nconst __default__ = {\n    name: 'CalendarRoomReservationSlot',\n    components: {},\n};\nimport CalendarSlotContextMenu from '@/components/CalendarSlotContextMenu.vue';\nimport RoomReservationForm from '@/components/RoomReservationForm.vue';\nimport { onMounted, ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null,\n        actions: null\n    },\n    emits: [\"interface\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const isContextMenuOpened = ref(false);\n        const clickCount = ref(0);\n        const timer = ref();\n        const isEditing = ref(false);\n        function onClick() {\n            if (++clickCount.value == 1) {\n                timer.value = setTimeout(() => {\n                    clickCount.value = 0;\n                    onSingleClick();\n                }, 300);\n                return;\n            }\n            clearTimeout(timer.value);\n            clickCount.value = 0;\n            onDoubleClick();\n        }\n        function onSingleClick() {\n            if (isEditing.value) {\n                // Ignore click when form is open\n                return;\n            }\n            console.log(`Click on ${props.data.title}`);\n        }\n        function onDoubleClick() {\n            if (isEditing.value) {\n                // Ignore click when form is open\n                return;\n            }\n            openEdit();\n        }\n        function onSave(reservation) {\n            const slot = Object.assign({}, props.data);\n            slot.reservation = reservation;\n            props.actions.save?.(slot, props.data);\n        }\n        function onDelete() {\n            props.actions.delete?.(props.data);\n        }\n        function onDuplicate() {\n            // TODO: Duplicate reservation and open edit form\n            console.log('On duplicate');\n        }\n        function onCancel() {\n            closeEdit();\n            if (props.data.reservation.id < 0) {\n                onDelete();\n            }\n        }\n        function openContextMenu() {\n            isContextMenuOpened.value = true;\n            return isContextMenuOpened.value;\n        }\n        function closeContextMenu() {\n            isContextMenuOpened.value = false;\n        }\n        function openEdit() {\n            isEditing.value = true;\n        }\n        function closeEdit() {\n            isEditing.value = false;\n        }\n        function emitInterface() {\n            emit('interface', props.data.id, {\n                openContextMenu: openContextMenu,\n                closeContextMenu: closeContextMenu,\n            });\n        }\n        onMounted(() => {\n            emitInterface();\n            // Open the form if the slot has just been created\n            if (props.data.reservation.id < 0) {\n                isEditing.value = true;\n            }\n        });\n        return (_ctx, _cache) => {\n            const _component_PopperComponent = _resolveComponent(\"PopperComponent\");\n            return (_openBlock(), _createBlock(_component_PopperComponent, {\n                id: props.data.id,\n                class: \"frame\",\n                show: isContextMenuOpened.value,\n                style: _normalizeStyle(props.data.displayStyle),\n                arrow: \"\",\n                onClick: _withModifiers(onClick, [\"left\"])\n            }, {\n                content: _withCtx(() => [\n                    _renderSlot(_ctx.$slots, \"contextmenu\", {}, () => [\n                        _createVNode(CalendarSlotContextMenu, {\n                            data: props.data,\n                            \"on-delete\": onDelete,\n                            \"on-edit\": onDoubleClick,\n                            \"on-duplicate\": onDuplicate\n                        }, null, 8, [\"data\"])\n                    ])\n                ]),\n                default: _withCtx(() => [\n                    _createElementVNode(\"div\", null, [\n                        _createVNode(RoomReservationForm, {\n                            reservation: props.data.reservation,\n                            \"is-open\": isEditing.value,\n                            \"is-new\": props.data.reservation.id < 0,\n                            rooms: props.data.rooms,\n                            \"reservation-types\": props.data.reservationTypes,\n                            \"periodicity-types\": props.data.periodicityTypes,\n                            users: props.data.users,\n                            weekdays: props.data.weekdays,\n                            periodicity: props.data.periodicity,\n                            \"on-periodicity-delete\": props.data.onPeriodicityDelete,\n                            onClosed: closeEdit,\n                            onSaved: onSave,\n                            onCancelled: onCancel\n                        }, null, 8, [\"reservation\", \"is-open\", \"is-new\", \"rooms\", \"reservation-types\", \"periodicity-types\", \"users\", \"weekdays\", \"periodicity\", \"on-periodicity-delete\"]),\n                        _createElementVNode(\"div\", _hoisted_1, [\n                            _renderSlot(_ctx.$slots, \"text\")\n                        ])\n                    ])\n                ]),\n                _: 3\n            }, 8, [\"id\", \"show\", \"style\", \"onClick\"]));\n        };\n    }\n});\n","import script from \"./CalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CalendarRoomReservationSlot.vue?vue&type=style&index=0&id=39e2e90a&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/david/projects/FlOpEDT/FlOpEDT/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-39e2e90a\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"col-xl-6\" };\nconst _hoisted_2 = { class: \"col-xl-6\" };\nconst _hoisted_3 = { class: \"col-xl-6\" };\nconst _hoisted_4 = { class: \"col-xl-6\" };\nconst __default__ = {\n    name: 'HourCalendarRoomReservationSlot',\n    components: {},\n};\nimport CalendarRoomReservationSlot from '@/components/CalendarRoomReservationSlot.vue';\nimport { computed } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null,\n        actions: null\n    },\n    setup(__props) {\n        const props = __props;\n        const responsible = computed(() => {\n            const user = props.data.users[props.data.reservation.responsible];\n            return user?.username;\n        });\n        const roomName = computed(() => {\n            const r = props.data.rooms[props.data.reservation.room];\n            return r?.name;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(CalendarRoomReservationSlot, {\n                data: props.data,\n                actions: props.actions\n            }, {\n                text: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, _toDisplayString(props.data.title), 1),\n                    _createElementVNode(\"p\", _hoisted_2, _toDisplayString(props.data.reservation.description), 1),\n                    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(_unref(responsible)), 1),\n                    _createElementVNode(\"p\", _hoisted_4, _toDisplayString(_unref(roomName)), 1)\n                ]),\n                _: 1\n            }, 8, [\"data\", \"actions\"]));\n        };\n    }\n});\n","import script from \"./HourCalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HourCalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"col-xl-auto\" };\nconst _hoisted_2 = { class: \"col-xl-auto\" };\nconst _hoisted_3 = { class: \"col-xl-auto ms-auto\" };\nconst __default__ = {\n    name: 'RoomCalendarRoomReservationSlot',\n    components: {},\n};\nimport CalendarRoomReservationSlot from '@/components/CalendarRoomReservationSlot.vue';\nimport { computed } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null,\n        actions: null\n    },\n    setup(__props) {\n        const props = __props;\n        const responsible = computed(() => {\n            const user = props.data.users[props.data.reservation.responsible];\n            return user?.username;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(CalendarRoomReservationSlot, {\n                data: props.data,\n                actions: props.actions\n            }, {\n                text: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, _toDisplayString(props.data.reservation.title), 1),\n                    _createElementVNode(\"p\", _hoisted_2, _toDisplayString(_unref(responsible)), 1),\n                    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(props.data.startTime.text) + \"-\" + _toDisplayString(props.data.endTime.text), 1)\n                ]),\n                _: 1\n            }, 8, [\"data\", \"actions\"]));\n        };\n    }\n});\n","import script from \"./RoomCalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomCalendarRoomReservationSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { renderSlot as _renderSlot, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, normalizeStyle as _normalizeStyle, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-374ac3eb\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = { class: \"row m-0 course\" };\nconst __default__ = {\n    name: 'CalendarScheduledCourseSlot',\n    components: {},\n};\nimport { onMounted, ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null\n    },\n    emits: [\"interface\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const isContextMenuOpened = ref(false);\n        function onClick() {\n            console.log(props.data.title);\n        }\n        function openContextMenu() {\n            // No interaction with courses\n            return false;\n        }\n        function closeContextMenu() {\n            // No interaction\n        }\n        function emitInterface() {\n            emit('interface', props.data.id, {\n                openContextMenu: openContextMenu,\n                closeContextMenu: closeContextMenu,\n            });\n        }\n        onMounted(() => {\n            emitInterface();\n        });\n        return (_ctx, _cache) => {\n            const _component_PopperComponent = _resolveComponent(\"PopperComponent\");\n            return (_openBlock(), _createBlock(_component_PopperComponent, {\n                id: props.data.id,\n                class: \"frame\",\n                show: isContextMenuOpened.value,\n                style: _normalizeStyle(props.data.displayStyle),\n                onClick: onClick\n            }, {\n                content: _withCtx(() => []),\n                default: _withCtx(() => [\n                    _createElementVNode(\"div\", _hoisted_1, [\n                        _renderSlot(_ctx.$slots, \"text\")\n                    ])\n                ]),\n                _: 3\n            }, 8, [\"id\", \"show\", \"style\"]));\n        };\n    }\n});\n","import script from \"./CalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./CalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./CalendarScheduledCourseSlot.vue?vue&type=style&index=0&id=374ac3eb&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/david/projects/FlOpEDT/FlOpEDT/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-374ac3eb\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"col-xl-6\" };\nconst _hoisted_2 = { class: \"col-xl-6\" };\nconst _hoisted_3 = { class: \"col-xl-6\" };\nconst _hoisted_4 = { class: \"col-xl-6\" };\nconst __default__ = {\n    name: 'HourCalendarScheduledCourseSlot',\n    components: {},\n};\nimport CalendarScheduledCourseSlot from '@/components/CalendarScheduledCourseSlot.vue';\nimport { computed } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null\n    },\n    setup(__props) {\n        const props = __props;\n        const roomName = computed(() => {\n            const r = props.data.rooms[props.data.course.room];\n            return r?.name;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(CalendarScheduledCourseSlot, {\n                data: props.data\n            }, {\n                text: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, _toDisplayString(props.data.course.course.module.abbrev), 1),\n                    _createElementVNode(\"p\", _hoisted_2, _toDisplayString(props.data.department), 1),\n                    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(props.data.course.tutor), 1),\n                    _createElementVNode(\"p\", _hoisted_4, _toDisplayString(_unref(roomName)), 1)\n                ]),\n                _: 1\n            }, 8, [\"data\"]));\n        };\n    }\n});\n","import script from \"./HourCalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./HourCalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"col-xl-auto\" };\nconst _hoisted_2 = { class: \"col-xl-auto\" };\nconst _hoisted_3 = { class: \"col-xl-auto ms-auto\" };\nconst __default__ = {\n    name: 'RoomCalendarScheduledCourseSlot',\n    components: {},\n};\nimport CalendarScheduledCourseSlot from '@/components/CalendarScheduledCourseSlot.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        data: null\n    },\n    setup(__props) {\n        const props = __props;\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(CalendarScheduledCourseSlot, {\n                data: props.data\n            }, {\n                text: _withCtx(() => [\n                    _createElementVNode(\"p\", _hoisted_1, _toDisplayString(props.data.course.course.module.abbrev), 1),\n                    _createElementVNode(\"p\", _hoisted_2, _toDisplayString(props.data.course.tutor), 1),\n                    _createElementVNode(\"p\", _hoisted_3, _toDisplayString(props.data.startTime.text) + \"-\" + _toDisplayString(props.data.endTime.text), 1)\n                ]),\n                _: 1\n            }, 8, [\"data\"]));\n        };\n    }\n});\n","import script from \"./RoomCalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomCalendarScheduledCourseSlot.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = [\"for\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = /*#__PURE__*/ _createElementVNode(\"option\", { value: undefined }, \"Select an attribute\", -1);\nconst _hoisted_4 = [\"value\", \"onClick\"];\nconst _hoisted_5 = { class: \"list-group\" };\nconst _hoisted_6 = [\"value\"];\nconst __default__ = {\n    name: 'DynamicSelect',\n    components: {},\n};\nimport { computed, ref, watchEffect } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        values: null,\n        selectedValues: null,\n        label: null,\n        id: null\n    },\n    emits: [\"update:selectedValues\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const updatedValues = ref(props.values);\n        watchEffect(() => {\n            updatedValues.value = props.values;\n        });\n        function updateValue(id, value) {\n            const index = updatedValues.value.findIndex((val) => val.value.id === id);\n            if (index < 0) {\n                return;\n            }\n            updatedValues.value[index].value = value;\n            emitUpdate();\n        }\n        const selectedIds = ref(props.selectedValues.map((value) => value.value.id));\n        const selected = computed(() => {\n            return updatedValues.value.filter((val) => selectedIds.value.includes(val.value.id));\n        });\n        const unselected = computed(() => {\n            return updatedValues.value.filter((val) => !selectedIds.value.includes(val.value.id));\n        });\n        function selectValue(id) {\n            selectedIds.value.push(id);\n            emitUpdate();\n        }\n        function unselectValue(id) {\n            selectedIds.value = selectedIds.value.filter((valId) => valId != id);\n            emitUpdate();\n        }\n        function emitUpdate() {\n            emit('update:selectedValues', selected.value);\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                _createElementVNode(\"label\", {\n                    for: props.id,\n                    class: \"form-label\"\n                }, _toDisplayString(props.label), 9, _hoisted_1),\n                _createElementVNode(\"select\", {\n                    id: props.id,\n                    class: \"form-select w-auto ms-1\",\n                    \"aria-label\": \"Select department\"\n                }, [\n                    _hoisted_3,\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(unselected), (value) => {\n                        return (_openBlock(), _createElementBlock(\"option\", {\n                            key: value.value.id,\n                            value: value.value.id,\n                            onClick: ($event) => (selectValue(value.value.id))\n                        }, _toDisplayString(value.value.name), 9, _hoisted_4));\n                    }), 128))\n                ], 8, _hoisted_2),\n                _createElementVNode(\"ul\", _hoisted_5, [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Array.from(Array(_unref(selected).length).keys()), (index) => {\n                        return (_openBlock(), _createElementBlock(\"li\", {\n                            key: _unref(selected)[index].value.id,\n                            value: _unref(selected)[index].value,\n                            class: \"list-group-item\"\n                        }, [\n                            (_openBlock(), _createBlock(_resolveDynamicComponent(_unref(selected)[index].component), {\n                                value: _unref(selected)[index].value,\n                                \"onUpdate:value\": ($event) => (updateValue(_unref(selected)[index].value.id, $event)),\n                                onRemoved: ($event) => (unselectValue(_unref(selected)[index].value.id))\n                            }, null, 40, [\"value\", \"onUpdate:value\", \"onRemoved\"]))\n                        ], 8, _hoisted_6));\n                    }), 128))\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./DynamicSelect.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DynamicSelect.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderSlot as _renderSlot, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = { class: \"row\" };\nconst _hoisted_2 = { class: \"col\" };\nconst __default__ = {\n    name: 'DynamicSelectedElement',\n    components: {},\n};\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        value: null\n    },\n    emits: [\"removed\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        function remove() {\n            emit('removed', props.value.id);\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"button\", {\n                    type: \"button\",\n                    class: \"btn-close col-auto\",\n                    \"aria-label\": \"Close\",\n                    onClick: remove\n                }),\n                _createElementVNode(\"div\", _hoisted_2, _toDisplayString(props.value.name), 1),\n                _renderSlot(_ctx.$slots, \"input\")\n            ]));\n        };\n    }\n});\n","import script from \"./DynamicSelectedElement.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DynamicSelectedElement.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst __default__ = {\n    name: 'DoubleThumbSlider',\n    components: {},\n};\nimport MultiRangeSlider from 'multi-range-slider-vue';\nimport { ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        initialMin: null,\n        initialMax: null,\n        min: null,\n        max: null\n    },\n    emits: [\"update:min\", \"update:max\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        // The reference to the range slider.\n        const slider = ref();\n        /**\n         * Stores the values from the range slider if the mouse is inside it, otherwise stops the drag.\n         * @param e An object having two number properties: `minValue` and `maxValue`.\n         */\n        function storeValues(e) {\n            if (!isEnabled.value) {\n                // The mouse is out, so stop the drag\n                slider.value.valueMin = props.min;\n                slider.value.valueMax = props.max;\n                return;\n            }\n        }\n        function updateValues() {\n            emit('update:min', slider.value.valueMin);\n            emit('update:max', slider.value.valueMax);\n        }\n        /**\n         * Enables the range slider.\n         */\n        function onMouseEnter() {\n            enableDrag();\n        }\n        /**\n         * Disables the range slider and updates the stored value.\n         */\n        function onMouseLeave() {\n            disableDrag();\n            updateValues();\n        }\n        const isEnabled = ref(false);\n        /**\n         * Enables the range slider.\n         */\n        function enableDrag() {\n            isEnabled.value = true;\n        }\n        /**\n         * Disables the range slider.\n         */\n        function disableDrag() {\n            isEnabled.value = false;\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(_unref(MultiRangeSlider), {\n                ref_key: \"slider\",\n                ref: slider,\n                \"base-class-name\": \"multi-range-slider slider\",\n                min: props.initialMin,\n                max: props.initialMax,\n                ruler: false,\n                label: false,\n                \"min-value\": props.initialMin,\n                \"max-value\": props.initialMax,\n                onInput: storeValues,\n                onMouseup: updateValues,\n                onMouseenter: onMouseEnter,\n                onMouseleave: onMouseLeave\n            }, null, 8, [\"min\", \"max\", \"min-value\", \"max-value\"]));\n        };\n    }\n});\n","import script from \"./DoubleThumbSlider.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DoubleThumbSlider.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./DoubleThumbSlider.vue?vue&type=style&index=0&id=2836fbd1&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst __default__ = {\n    name: 'DynamicSelectedElementNumeric',\n    components: {},\n};\nimport DynamicSelectedElement from '@/components/DynamicSelectedElement.vue';\nimport { ref, watch } from 'vue';\nimport DoubleThumbSlider from '@/components/DoubleThumbSlider.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        value: null\n    },\n    emits: [\"update:value\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        // The value used to update the model.\n        const inputValues = ref(props.value);\n        // The min value from the range slider\n        const minValue = ref(inputValues.value.min);\n        // The max value from the range slider\n        const maxValue = ref(inputValues.value.max);\n        watch(minValue, (newMin) => {\n            inputValues.value.min = newMin;\n            emit('update:value', inputValues.value);\n        });\n        watch(maxValue, (newMax) => {\n            inputValues.value.max = newMax;\n            emit('update:value', inputValues.value);\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(DynamicSelectedElement, {\n                value: props.value\n            }, {\n                input: _withCtx(() => [\n                    _createVNode(DoubleThumbSlider, {\n                        \"initial-min\": props.value.initialMin,\n                        \"initial-max\": props.value.initialMax,\n                        min: minValue.value,\n                        \"onUpdate:min\": _cache[0] || (_cache[0] = ($event) => ((minValue).value = $event)),\n                        max: maxValue.value,\n                        \"onUpdate:max\": _cache[1] || (_cache[1] = ($event) => ((maxValue).value = $event))\n                    }, null, 8, [\"initial-min\", \"initial-max\", \"min\", \"max\"])\n                ]),\n                _: 1\n            }, 8, [\"value\"]));\n        };\n    }\n});\n","import script from \"./DynamicSelectedElementNumeric.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DynamicSelectedElementNumeric.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { unref as _unref, isRef as _isRef, vModelCheckbox as _vModelCheckbox, createElementVNode as _createElementVNode, withDirectives as _withDirectives, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = { class: \"form-check form-switch\" };\nconst __default__ = {\n    name: 'DynamicSelectedElementBoolean',\n    components: {},\n};\nimport DynamicSelectedElement from '@/components/DynamicSelectedElement.vue';\nimport { computed, ref } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        value: null\n    },\n    emits: [\"update:value\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const elementValue = ref(props.value);\n        const updatedValue = computed({\n            get() {\n                return elementValue.value.value;\n            },\n            set(value) {\n                elementValue.value.value = value;\n            },\n        });\n        emit('update:value', elementValue.value);\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(DynamicSelectedElement, {\n                value: props.value\n            }, {\n                input: _withCtx(() => [\n                    _createElementVNode(\"div\", null, [\n                        _createElementVNode(\"div\", _hoisted_1, [\n                            _withDirectives(_createElementVNode(\"input\", {\n                                class: \"form-check-input\",\n                                type: \"checkbox\",\n                                role: \"switch\",\n                                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => (_isRef(updatedValue) ? (updatedValue).value = $event : null))\n                            }, null, 512), [\n                                [_vModelCheckbox, _unref(updatedValue)]\n                            ])\n                        ])\n                    ])\n                ]),\n                _: 1\n            }, 8, [\"value\"]));\n        };\n    }\n});\n","import script from \"./DynamicSelectedElementBoolean.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DynamicSelectedElementBoolean.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, unref as _unref, isRef as _isRef, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = { class: \"row\" };\nconst _hoisted_2 = [\"for\"];\nconst _hoisted_3 = {\n    key: 0,\n    class: \"col-auto pe-0\"\n};\nconst _hoisted_4 = { class: \"col-auto\" };\nconst _hoisted_5 = [\"id\"];\nconst __default__ = {\n    name: 'ClearableInput',\n    components: {},\n};\nimport { computed } from 'vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        inputId: null,\n        label: null,\n        text: null\n    },\n    emits: [\"update:text\"],\n    setup(__props, { emit }) {\n        const props = __props;\n        const model = computed({\n            get() {\n                return props.text;\n            },\n            set(value) {\n                emit('update:text', value);\n            },\n        });\n        function clear() {\n            model.value = '';\n        }\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n                _createElementVNode(\"label\", {\n                    for: props.inputId,\n                    class: \"form-label\"\n                }, _toDisplayString(props.label), 9, _hoisted_2),\n                (props.text.length > 0)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n                        _createElementVNode(\"button\", {\n                            type: \"button\",\n                            class: \"btn-close\",\n                            onClick: _cache[0] || (_cache[0] = ($event) => (clear()))\n                        })\n                    ]))\n                    : _createCommentVNode(\"\", true),\n                _createElementVNode(\"div\", _hoisted_4, [\n                    _withDirectives(_createElementVNode(\"input\", {\n                        id: props.inputId,\n                        type: \"text\",\n                        class: \"form-control\",\n                        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event) => (_isRef(model) ? (model).value = $event : null))\n                    }, null, 8, _hoisted_5), [\n                        [_vModelText, _unref(model)]\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./ClearableInput.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./ClearableInput.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue';\nimport { createTextVNode as _createTextVNode, createElementVNode as _createElementVNode, withModifiers as _withModifiers, unref as _unref, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withCtx as _withCtx, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = /*#__PURE__*/ _createElementVNode(\"span\", null, \" You are about to remove a reservation related to a periodicity, would you want to remove only this reservation, all the related reservations or this one and all the next? \", -1);\nconst _hoisted_2 = [\"onClick\"];\nconst _hoisted_3 = [\"onClick\", \"disabled\"];\nconst _hoisted_4 = { key: 0 };\nconst _hoisted_5 = /*#__PURE__*/ _createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n}, null, -1);\nconst _hoisted_6 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"visually-hidden\" }, \"Loading...\", -1);\nconst _hoisted_7 = [\n    _hoisted_5,\n    _hoisted_6\n];\nconst _hoisted_8 = { key: 1 };\nconst _hoisted_9 = [\"onClick\", \"disabled\"];\nconst _hoisted_10 = { key: 0 };\nconst _hoisted_11 = /*#__PURE__*/ _createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n}, null, -1);\nconst _hoisted_12 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"visually-hidden\" }, \"Loading...\", -1);\nconst _hoisted_13 = [\n    _hoisted_11,\n    _hoisted_12\n];\nconst _hoisted_14 = { key: 1 };\nconst _hoisted_15 = [\"onClick\", \"disabled\"];\nconst _hoisted_16 = { key: 0 };\nconst _hoisted_17 = /*#__PURE__*/ _createElementVNode(\"span\", {\n    class: \"spinner-border spinner-border-sm\",\n    role: \"status\",\n    \"aria-hidden\": \"true\"\n}, null, -1);\nconst _hoisted_18 = /*#__PURE__*/ _createElementVNode(\"span\", { class: \"visually-hidden\" }, \"Loading...\", -1);\nconst _hoisted_19 = [\n    _hoisted_17,\n    _hoisted_18\n];\nconst _hoisted_20 = { key: 1 };\nconst __default__ = {\n    name: 'DeletePeriodicReservationDialog',\n    components: {},\n};\nimport { computed, onMounted, ref, watch } from 'vue';\nimport { RoomReservation } from '@/assets/js/types';\nimport ModalDialog from '@/components/ModalDialog.vue';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    props: {\n        isOpen: { type: Boolean },\n        reservation: null,\n        onCancel: null,\n        onConfirmCurrent: null,\n        onConfirmAll: null,\n        onConfirmFuture: null\n    },\n    setup(__props) {\n        const props = __props;\n        const isMounted = ref(false);\n        const isLocked = computed(() => isCurrentSelected.value || isAllSelected.value || isFutureSelected.value);\n        const isCurrentSelected = ref(false);\n        const isAllSelected = ref(false);\n        const isFutureSelected = ref(false);\n        watch(() => props.isOpen, (_) => {\n            isCurrentSelected.value = false;\n            isAllSelected.value = false;\n            isFutureSelected.value = false;\n        });\n        function cancel() {\n            props.onCancel();\n        }\n        function confirmCurrent() {\n            isCurrentSelected.value = true;\n            props.onConfirmCurrent(props.reservation);\n        }\n        function confirmAll() {\n            isAllSelected.value = true;\n            props.onConfirmAll(props.reservation);\n        }\n        function confirmFuture() {\n            isFutureSelected.value = true;\n            props.onConfirmFuture(props.reservation);\n        }\n        onMounted(() => {\n            isMounted.value = true;\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createBlock(ModalDialog, {\n                \"is-open\": props.isOpen\n            }, {\n                title: _withCtx(() => [\n                    _createTextVNode(\"Reservation deletion\")\n                ]),\n                body: _withCtx(() => [\n                    _hoisted_1\n                ]),\n                buttons: _withCtx(() => [\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-secondary\",\n                        onClick: _withModifiers(cancel, [\"stop\"])\n                    }, \"Cancel\", 8, _hoisted_2),\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-primary\",\n                        onClick: _withModifiers(confirmCurrent, [\"stop\"]),\n                        disabled: _unref(isLocked)\n                    }, [\n                        (isCurrentSelected.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_4, _hoisted_7))\n                            : (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"Just this one\"))\n                    ], 8, _hoisted_3),\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-primary\",\n                        onClick: _withModifiers(confirmAll, [\"stop\"]),\n                        disabled: _unref(isLocked)\n                    }, [\n                        (isAllSelected.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, _hoisted_13))\n                            : (_openBlock(), _createElementBlock(\"span\", _hoisted_14, \"All\"))\n                    ], 8, _hoisted_9),\n                    _createElementVNode(\"button\", {\n                        type: \"button\",\n                        class: \"btn btn-primary\",\n                        onClick: _withModifiers(confirmFuture, [\"stop\"]),\n                        disabled: _unref(isLocked)\n                    }, [\n                        (isFutureSelected.value)\n                            ? (_openBlock(), _createElementBlock(\"span\", _hoisted_16, _hoisted_19))\n                            : (_openBlock(), _createElementBlock(\"span\", _hoisted_20, \"This one and all the next\"))\n                    ], 8, _hoisted_15)\n                ]),\n                _: 1\n            }, 8, [\"is-open\"]));\n        };\n    }\n});\n","import script from \"./DeletePeriodicReservationDialog.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./DeletePeriodicReservationDialog.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","let API_ENDPOINT = '';\nconst dbDataElement = document.getElementById('json_data');\nif (dbDataElement && dbDataElement.textContent) {\n    const data = JSON.parse(dbDataElement.textContent);\n    if ('api' in data) {\n        API_ENDPOINT = data.api;\n    }\n}\nfunction getCookie(name) {\n    if (!document.cookie) {\n        return null;\n    }\n    const xsrfCookies = document.cookie\n        .split(';')\n        .map((c) => c.trim())\n        .filter((c) => c.startsWith(name + '='));\n    if (xsrfCookies.length === 0) {\n        return null;\n    }\n    return decodeURIComponent(xsrfCookies[0].split('=')[1]);\n}\nconst csrfToken = getCookie('csrftoken');\nfunction createRequestHeader(method) {\n    // Setup headers\n    const requestHeaders = new Headers();\n    requestHeaders.set('Content-Type', 'application/json');\n    if (csrfToken) {\n        requestHeaders.set('X-CSRFToken', csrfToken);\n    }\n    // Setup request\n    return {\n        method: method,\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: requestHeaders,\n        redirect: 'follow',\n        referrerPolicy: 'no-referrer',\n    };\n}\nasync function doFetch(url, requestInit) {\n    return await fetch(url, requestInit)\n        .then(async (response) => {\n        const data = await response.json();\n        if (!response.ok) {\n            const error = data || `Error ${response.status}: ${response.statusText}`;\n            return Promise.reject(error);\n        }\n        return data;\n    })\n        .catch((reason) => {\n        return Promise.reject(reason);\n    });\n}\nexport async function useFetch(url, filters) {\n    const requestInit = createRequestHeader('GET');\n    let args = '';\n    if (filters) {\n        args = Object.keys(filters)\n            .map((p) => p + '=' + filters[p])\n            .join('&');\n    }\n    const finalUrl = `${API_ENDPOINT}${url}/?${args}`;\n    console.log(`Fetching ${finalUrl}...`);\n    return doFetch(finalUrl, requestInit);\n}\nasync function sendData(method, url, optional) {\n    if (!['PUT', 'POST', 'DELETE', 'PATCH'].includes(method)) {\n        return Promise.reject('Method must be either PUT, POST, PATCH, or DELETE');\n    }\n    const requestInit = createRequestHeader(method);\n    if (optional.data) {\n        requestInit.body = JSON.stringify(optional.data);\n    }\n    // Create url\n    let endUrl = '/';\n    if (optional.id) {\n        endUrl = `/${optional.id}/`;\n    }\n    const finalUrl = `${API_ENDPOINT}${url}${endUrl}`;\n    console.log(`Updating ${finalUrl}...`);\n    // Return the resulting fetch\n    return doFetch(finalUrl, requestInit);\n}\nexport function usePut(url, id, data) {\n    const optional = {\n        id: id,\n        data: data,\n    };\n    return sendData('PUT', url, optional);\n}\nexport function usePost(url, data) {\n    const optional = {\n        data: data,\n    };\n    return sendData('POST', url, optional);\n}\nexport function usePatch(url, id, data) {\n    const optional = {\n        id: id,\n        data: data,\n    };\n    return sendData('PATCH', url, optional);\n}\nexport function useDelete(url, id) {\n    return sendData('DELETE', url, {\n        id: id,\n    });\n}\n","import { useFetch, usePatch, usePost, usePut } from '@/composables/api';\nimport { mapListId } from '@/helpers';\nconst mappable = [];\nexport class StoreAction {\n    convertToApp;\n    convertToAPI;\n    onFetch;\n    url;\n    constructor(url, convertToApp, convertToAPI, onFetch) {\n        this.url = url;\n        this.convertToApp = convertToApp;\n        this.convertToAPI = convertToAPI;\n        this.onFetch = onFetch;\n    }\n    convertToPartialAPI(val) {\n        return Object.fromEntries(Object.entries(val).map((entry) => {\n            const param = entry[0];\n            const value = entry[1];\n            if (value) {\n                if (typeof value === typeof mappable) {\n                    return [param, mapListId(value)];\n                }\n                return [param, value];\n            }\n            return [];\n        }));\n    }\n    async retrieve(id) {\n        return useFetch(this.url, { id: id }).then(this.convertToApp);\n    }\n    async fetch() {\n        return useFetch(this.url, {})\n            .then((value) => value.map(this.convertToApp))\n            .then(this.onFetch); // Allows to update the store's value\n    }\n    async update(id, value) {\n        return usePut(this.url, id, this.convertToAPI(value)).then(this.convertToApp);\n    }\n    async create(value) {\n        return usePost(this.url, this.convertToAPI(value)).then(this.convertToApp);\n    }\n    async partialUpdate(id, value) {\n        return usePatch(this.url, id, this.convertToPartialAPI(value)).then(this.convertToApp);\n    }\n}\n","import { defineStore } from 'pinia';\nimport { computed, ref } from 'vue';\nimport { StoreAction } from '@/stores/store';\nfunction convertToApp(department) {\n    return { id: department.id ?? -1, abbrev: department.abbrev ?? 'Unknown' };\n}\nfunction convertToAPI(department) {\n    return { id: department.id ?? -1, abbrev: department.abbrev ?? 'Unknown' };\n}\nexport const useDepartmentStore = defineStore('department', () => {\n    const depts = ref([]);\n    // Read-only value of the list of departments\n    const departments = computed(() => depts.value);\n    // Generate the default API functions\n    const remote = new StoreAction('fetch/alldepts', convertToApp, convertToAPI, (value) => (depts.value = value));\n    return { departments, remote };\n});\n","import { defineStore } from 'pinia';\nimport { computed, ref } from 'vue';\nimport { StoreAction } from '@/stores/store';\nimport { useDepartmentStore } from '@/stores/department';\nimport { mapListId } from '@/helpers';\nexport const useRoomStore = defineStore('room', () => {\n    const r = ref([]);\n    // Read-only value of the list of departments\n    const rooms = computed(() => r.value);\n    // Generate the default API functions\n    const remote = new StoreAction('rooms/room', convertToApp, convertToAPI, (value) => (r.value = value));\n    const perId = computed(() => {\n        return Object.fromEntries(r.value.map((r) => [r.id, r]));\n    });\n    const perDepartment = computed(() => {\n        const departmentStore = useDepartmentStore();\n        const out = {};\n        departmentStore.departments.forEach((dept) => {\n            out[dept.id] = r.value.filter((room) => room.departments.findIndex((d) => d.id === dept.id) >= 0);\n        });\n        return out;\n    });\n    function convertToApp(room) {\n        const departmentStore = useDepartmentStore();\n        const roomStore = useRoomStore();\n        return {\n            id: room.id ?? -1,\n            departments: room.departments\n                ? departmentStore.departments.filter((dept) => room.departments?.includes(dept.id))\n                : [],\n            basic_rooms: room.basic_rooms ?? [],\n            is_basic: room.is_basic ?? true,\n            name: room.name ?? 'Unknown',\n            subroom_of: roomStore.rooms.filter((r) => room.id === r.id),\n        };\n    }\n    function convertToAPI(room) {\n        return {\n            id: room.id ?? -1,\n            departments: room.departments ? mapListId(room.departments) : [],\n            basic_rooms: room.basic_rooms ?? [],\n            is_basic: room.is_basic ?? true,\n            name: room.name ?? 'Unknown',\n            subroom_of: room.subroom_of ? mapListId(room.subroom_of) : [],\n        };\n    }\n    return { rooms, remote, perId, perDepartment };\n});\n","import { defineComponent as _defineComponent } from 'vue';\nimport { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createVNode as _createVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, unref as _unref, mergeProps as _mergeProps, normalizeStyle as _normalizeStyle, createTextVNode as _createTextVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-efd0de00\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n    key: 0,\n    class: \"loader\"\n};\nconst _hoisted_2 = { class: \"container-fluid\" };\nconst _hoisted_3 = { class: \"row\" };\nconst _hoisted_4 = { class: \"col-6 col-md-5 col-lg-4 col-xl-3\" };\nconst _hoisted_5 = { class: \"row\" };\nconst _hoisted_6 = { class: \"col\" };\nconst _hoisted_7 = { class: \"row mb-3\" };\nconst _hoisted_8 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/ _createElementVNode(\"label\", {\n    for: \"select-room\",\n    class: \"form-label\"\n}, \"Room:\", -1));\nconst _hoisted_9 = {\n    key: 0,\n    class: \"col-auto pe-0\"\n};\nconst _hoisted_10 = { class: \"col-auto\" };\nconst _hoisted_11 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/ _createElementVNode(\"option\", { value: undefined }, \"All rooms\", -1));\nconst _hoisted_12 = [\"value\"];\nconst _hoisted_13 = { class: \"row mb-3\" };\nconst _hoisted_14 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/ _createElementVNode(\"label\", {\n    for: \"select-department\",\n    class: \"form-label\"\n}, \"Department:\", -1));\nconst _hoisted_15 = {\n    key: 0,\n    class: \"col-auto pe-0\"\n};\nconst _hoisted_16 = { class: \"col-auto\" };\nconst _hoisted_17 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/ _createElementVNode(\"option\", { value: undefined }, \"All departments\", -1));\nconst _hoisted_18 = [\"value\"];\nconst _hoisted_19 = {\n    key: 0,\n    class: \"row\"\n};\nconst _hoisted_20 = { class: \"mb-3\" };\nconst _hoisted_21 = { class: \"mb-3\" };\nconst _hoisted_22 = { class: \"col\" };\nconst _hoisted_23 = { class: \"row\" };\nconst _hoisted_24 = { class: \"col-auto\" };\nconst __default__ = {\n    name: 'RoomReservationView',\n    components: {},\n};\nimport { createTime, listGroupBy, parseReason, toStringAtLeastTwoDigits } from '@/helpers';\nimport { apiKey, currentWeekKey, requireInjection } from '@/assets/js/keys';\nimport { ScheduledCourse, Time } from '@/assets/js/types';\nimport HourCalendar from '@/components/HourCalendar.vue';\nimport WeekPicker from '@/components/WeekPicker.vue';\nimport { computed, markRaw, onMounted, ref, shallowRef, watchEffect } from 'vue';\nimport RoomCalendar from '@/components/RoomCalendar.vue';\nimport HourCalendarRoomReservationSlot from '@/components/HourCalendarRoomReservationSlot.vue';\nimport RoomCalendarRoomReservationSlot from '@/components/RoomCalendarRoomReservationSlot.vue';\nimport HourCalendarScheduledCourseSlot from '@/components/HourCalendarScheduledCourseSlot.vue';\nimport RoomCalendarScheduledCourseSlot from '@/components/RoomCalendarScheduledCourseSlot.vue';\nimport DynamicSelect from '@/components/DynamicSelect.vue';\nimport DynamicSelectedElementNumeric from '@/components/DynamicSelectedElementNumeric.vue';\nimport DynamicSelectedElementBoolean from '@/components/DynamicSelectedElementBoolean.vue';\nimport ClearableInput from '@/components/ClearableInput.vue';\nimport DeletePeriodicReservationDialog from '@/components/DeletePeriodicReservationDialog.vue';\nimport { useDepartmentStore } from '@/stores/department';\nimport { Room, useRoomStore } from '@/stores/room';\nexport default /*#__PURE__*/ _defineComponent({\n    ...__default__,\n    setup(__props) {\n        const api = ref(requireInjection(apiKey));\n        const currentWeek = ref(requireInjection(currentWeekKey));\n        let currentDepartment = '';\n        let currentUserId = -1;\n        let loadingCounter = 0;\n        const departmentStore = useDepartmentStore();\n        const roomStore = useRoomStore();\n        const weekDays = {\n            list: ref([]),\n        };\n        const rooms = {\n            perDepartmentFilterBySelectedDepartments: computed(() => {\n                return filterBySelectedDepartments(roomStore.perDepartment);\n            }),\n            listFilterBySelectedDepartments: computed(() => {\n                const out = [];\n                Object.values(rooms.perDepartmentFilterBySelectedDepartments.value).forEach((rooms) => {\n                    out.push(...rooms.filter((room) => !out.find((r) => r.id === room.id)));\n                });\n                return out;\n            }),\n            perIdFilterBySelectedDepartments: computed(() => {\n                return Object.fromEntries(rooms.listFilterBySelectedDepartments.value\n                    .filter((r) => r.is_basic)\n                    .sort((r1, r2) => {\n                    return r1.name.toLowerCase().localeCompare(r2.name.toLowerCase());\n                })\n                    .map((r) => [r.id, r]));\n            }),\n            listFilterBySelectedDepartmentsAndFilters: computed(() => {\n                const attributeFilters = [\n                    [\n                        selectedBooleanAttributes.value,\n                        roomAttributeValues.booleanList.value,\n                        (filterVal, attributeVal) => filterVal.value !== attributeVal.value,\n                    ],\n                    [\n                        selectedNumericAttributes.value,\n                        roomAttributeValues.numericList.value,\n                        (filterVal, attributeVal) => {\n                            return Number(attributeVal.value) >= filterVal.min && Number(attributeVal.value) <= filterVal.max;\n                        },\n                    ],\n                ];\n                // Filter by room name\n                let out = Object.values(rooms.perIdFilterBySelectedDepartments.value).filter((room) => room.name.toLowerCase().includes(roomNameFilter.value.toLowerCase()));\n                // Filter by attributes\n                out = out.filter((room) => {\n                    const roomId = room.id;\n                    let matchFilters = true;\n                    attributeFilters.forEach((filterEntry) => {\n                        if (!matchFilters) {\n                            // Skip the next checks if one failed\n                            return;\n                        }\n                        const selectedFilterAttributes = filterEntry[0];\n                        const attributeValues = filterEntry[1];\n                        const comparisonPredicate = filterEntry[2];\n                        // Consider only filters if at least one is selected\n                        if (selectedFilterAttributes.length > 0) {\n                            selectedFilterAttributes.forEach((selectedFilterAttribute) => {\n                                // Get the values of the current attribute\n                                const filteredAttributeValues = attributeValues.filter((attributeValue) => attributeValue.attribute === selectedFilterAttribute.id);\n                                // Consider only attributes with at least one value\n                                if (filteredAttributeValues.length > 0) {\n                                    // Try to find the value matching the room\n                                    const attributeValue = filteredAttributeValues.find((filt) => filt.room === roomId);\n                                    if (attributeValue && !comparisonPredicate(selectedFilterAttribute, attributeValue)) {\n                                        // The room has an attribute with a value which does not match the filter\n                                        matchFilters = false;\n                                        return;\n                                    }\n                                }\n                            });\n                        }\n                    });\n                    return matchFilters;\n                });\n                return out;\n            }),\n        };\n        const scheduledCourses = {\n            list: computed(() => {\n                return Object.values(scheduledCourses.perDepartment.value).flat(1);\n            }),\n            perDepartment: ref({}),\n            perDepartmentFilterByDepartmentsAndRooms: computed(() => {\n                return Object.fromEntries(Object.entries(scheduledCourses.perDepartment.value).map((entry) => [\n                    entry[0],\n                    entry[1].filter((course) => isRoomSelected(course.room) && isRoomInSelectedDepartments(course.room)),\n                ]));\n            }),\n            perDay: computed(() => {\n                return listGroupBy(scheduledCourses.list.value, (course) => {\n                    // Make sure the day is valid\n                    const date = weekDays.list.value.find((weekDay) => {\n                        return weekDay.ref === course.day;\n                    })?.date;\n                    return date ? date : 'dateNotFound';\n                });\n            }),\n            perDayPerRoomFilterBySelectedDepartments: computed(() => {\n                const out = {};\n                Object.entries(scheduledCourses.perDay.value).forEach((entry) => {\n                    const day = entry[0];\n                    const courses = entry[1].filter((course) => {\n                        const dept = getScheduledCourseDepartment(course);\n                        return dept && selectedDepartments.value.includes(dept);\n                    });\n                    out[day] = listGroupBy(courses, (course) => `${course.room}`);\n                });\n                return out;\n            }),\n        };\n        const courseTypes = {\n            perDepartment: ref({}),\n            listFilterBySelectedDepartments: computed(() => {\n                return Object.values(filterBySelectedDepartments(courseTypes.perDepartment.value)).flat(1);\n            }),\n        };\n        const roomReservations = {\n            list: ref([]),\n            perDay: computed(() => {\n                return listGroupBy(roomReservations.list.value, (reserv) => {\n                    const date = new Date(reserv.date);\n                    return createDateId(date.getDate(), date.getMonth() + 1);\n                });\n            }),\n        };\n        const roomReservationTypes = {\n            list: ref([]),\n            perId: computed(() => {\n                return Object.fromEntries(roomReservationTypes.list.value.map((t) => [t.id, t]));\n            }),\n        };\n        const reservationPeriodicities = {\n            list: ref([]),\n            perId: computed(() => {\n                return Object.fromEntries(reservationPeriodicities.list.value.map((p) => [p.periodicity.id, p]));\n            }),\n        };\n        const reservationPeriodicityTypes = ref([]);\n        const users = {\n            list: ref([]),\n            perId: computed(() => {\n                return Object.fromEntries(users.list.value.map((user) => [user.id, user]));\n            }),\n        };\n        const roomAttributes = {\n            booleanList: ref([]),\n            numericList: ref([]),\n        };\n        const roomAttributeValues = {\n            booleanList: ref([]),\n            numericList: ref([]),\n        };\n        // Time Settings\n        const timeSettings = ref();\n        const dayStartTime = ref({ value: 0, text: '' });\n        const dayFinishTime = ref({ value: 0, text: '' });\n        const lunchBreakStartTime = ref({ value: 0, text: '' });\n        const lunchBreakFinishTime = ref({ value: 0, text: '' });\n        // Duration of new reservations by default, in minutes\n        const newReservationDefaultDuration = 60;\n        // Background color of the course slots\n        const scheduledCourseColor = '#3399ff';\n        // Fill with current date, uses date picker afterwards\n        const selectedDate = ref({\n            week: currentWeek.value.week,\n            year: currentWeek.value.year,\n        });\n        const loaderIsVisible = ref(false);\n        const reservationToDelete = ref();\n        const isReservationDeletionDialogOpen = ref(false);\n        const selectedRoom = ref();\n        const selectedDepartment = ref();\n        const selectedDepartments = computed(() => {\n            let selected = [];\n            if (!selectedDepartment.value) {\n                // All departments\n                if (!departmentStore.departments) {\n                    // No department fetched, cannot continue\n                    return [];\n                }\n                selected = departmentStore.departments;\n            }\n            else {\n                // Department selected, get its name\n                selected.push(selectedDepartment.value);\n            }\n            return selected;\n        });\n        const selectedRoomAttributes = ref([]);\n        // The boolean attributes selected in the filter\n        const selectedBooleanAttributes = computed(() => {\n            return selectedRoomAttributes.value\n                .filter((entry) => entry.component === markRaw(DynamicSelectedElementBoolean))\n                .map((entry) => entry.value);\n        });\n        // The numeric  attributes selected in the filter\n        const selectedNumericAttributes = computed(() => {\n            return selectedRoomAttributes.value\n                .filter((entry) => entry.component === markRaw(DynamicSelectedElementNumeric))\n                .map((entry) => entry.value);\n        });\n        const roomNameFilter = ref('');\n        /**\n         * Computes the slots to display all the room reservations, grouped by day.\n         */\n        const roomReservationSlots = {\n            list: computed(() => {\n                return roomReservations.list.value.map(createRoomReservationSlot);\n            }),\n            perDay: computed(() => {\n                const out = Object.fromEntries(Object.entries(listGroupBy(roomReservationSlots.list.value, (slot) => {\n                    const date = new Date(slot.slotData.reservation.date);\n                    return createDateId(date.getDate(), date.getMonth() + 1);\n                })));\n                return out;\n            }),\n            perDayFilterBySelectedDepartmentsAndRooms: computed(() => {\n                const out = Object.fromEntries(Object.entries(roomReservationSlots.perDay.value).map((entry) => [\n                    entry[0],\n                    entry[1].filter((slot) => {\n                        const room = slot.slotData.reservation.room;\n                        return isRoomSelected(room) && isRoomInSelectedDepartments(room);\n                    }),\n                ]));\n                return out;\n            }),\n            perDayPerRoomFilterBySelectedDepartments: computed(() => {\n                const out = Object.fromEntries(Object.entries(roomReservationSlots.perDay.value).map((entry) => [\n                    // First value is the day\n                    entry[0],\n                    // Group the list by room\n                    listGroupBy(\n                    // Filter the rooms not in the selected departments\n                    entry[1].filter((slot) => isRoomInSelectedDepartments(slot.slotData.reservation.room)), (slot) => `${slot.slotData.reservation.room}`),\n                ]));\n                return out;\n            }),\n        };\n        /**\n         * Computes the slots to display all the scheduled courses, grouped by day.\n         */\n        const scheduledCoursesSlots = {\n            perDepartmentFilterBySelectedDepartmentsAndRooms: computed(() => {\n                const out = {};\n                Object.entries(scheduledCourses.perDepartmentFilterByDepartmentsAndRooms.value).map((entry) => {\n                    const deptId = entry[0];\n                    entry[1].forEach((course) => {\n                        // Make sure the day is valid\n                        const day = weekDays.list.value.find((weekDay) => {\n                            return weekDay.ref === course.day;\n                        });\n                        if (!day) {\n                            return;\n                        }\n                        // Make sure the course type belongs to the selected departments\n                        const courseType = courseTypes.listFilterBySelectedDepartments.value.find((courseType) => {\n                            return courseType.name === course.course.type;\n                        });\n                        if (!courseType) {\n                            return;\n                        }\n                        const date = day.date;\n                        const slot = createScheduledCourseSlot(course, courseType, deptId);\n                        addTo(out, date, slot);\n                    });\n                });\n                return out;\n            }),\n            perDayPerRoomFilterBySelectedDepartments: computed(() => {\n                const out = {};\n                Object.entries(scheduledCourses.perDayPerRoomFilterBySelectedDepartments.value).forEach((entry) => {\n                    out[entry[0]] = Object.fromEntries(Object.entries(entry[1]).map((e) => {\n                        const slots = [];\n                        e[1].forEach((course) => {\n                            // Make sure the course's room is in the selected departments\n                            if (!isRoomInSelectedDepartments(course.room)) {\n                                return;\n                            }\n                            // Make sure the course type belongs to the selected departments\n                            const courseType = courseTypes.listFilterBySelectedDepartments.value.find((courseType) => {\n                                return courseType.name === course.course.type;\n                            });\n                            if (!courseType) {\n                                return;\n                            }\n                            // Get the course's department\n                            const dept = getScheduledCourseDepartment(course);\n                            if (!dept) {\n                                return;\n                            }\n                            const deptId = `${dept.id}`;\n                            slots.push(createScheduledCourseSlot(course, courseType, deptId));\n                        });\n                        return [e[0], slots];\n                    }));\n                });\n                return out;\n            }),\n        };\n        const temporaryReservation = ref();\n        const temporaryCalendarSlots = {\n            perDay: computed(() => {\n                const out = {};\n                if (temporaryReservation.value) {\n                    const reservation = temporaryReservation.value;\n                    const slot = createRoomReservationSlot(reservation);\n                    const date = new Date(reservation.date);\n                    const id = createDateId(date.getDate(), date.getMonth() + 1);\n                    addTo(out, id, slot);\n                }\n                return out;\n            }),\n            perDayPerRoom: computed(() => {\n                const out = {};\n                if (temporaryReservation.value) {\n                    const reservation = temporaryReservation.value;\n                    const slot = createRoomReservationSlot(reservation);\n                    const date = new Date(reservation.date);\n                    const day = createDateId(date.getDate(), date.getMonth() + 1);\n                    out[day] = {};\n                    addTo(out[day], reservation.room, slot);\n                }\n                return out;\n            }),\n        };\n        const calendarValues = computed(() => {\n            return {\n                days: weekDays.list.value,\n                year: `${selectedDate.value.year}`,\n            };\n        });\n        const hourCalendarValues = computed(() => {\n            const slots = {};\n            for (const obj of [\n                roomReservationSlots.perDayFilterBySelectedDepartmentsAndRooms.value,\n                scheduledCoursesSlots.perDepartmentFilterBySelectedDepartmentsAndRooms.value,\n                temporaryCalendarSlots.perDay.value,\n            ]) {\n                Object.keys(obj).forEach((key) => {\n                    obj[key].forEach((slot) => {\n                        addTo(slots, key, slot);\n                    });\n                });\n            }\n            Object.entries(slots).forEach((entry) => {\n                entry[1].sort((slot1, slot2) => slot1.slotData.startTime.value - slot2.slotData.startTime.value);\n            });\n            return Object.assign({\n                slots: slots,\n                startTime: dayStartTime.value.value - (60 + (dayStartTime.value.value % 60)),\n                endTime: dayFinishTime.value.value + (60 - (dayFinishTime.value.value % 60)),\n            }, calendarValues.value);\n        });\n        const roomCalendarValues = computed(() => {\n            const slots = {};\n            for (const obj of [\n                roomReservationSlots.perDayPerRoomFilterBySelectedDepartments.value,\n                scheduledCoursesSlots.perDayPerRoomFilterBySelectedDepartments.value,\n                temporaryCalendarSlots.perDayPerRoom.value,\n            ]) {\n                Object.entries(obj).forEach((entry) => {\n                    const day = entry[0];\n                    if (!(day in slots)) {\n                        slots[day] = {};\n                    }\n                    Object.entries(entry[1]).forEach((e) => {\n                        e[1].forEach((slot) => addTo(slots[day], e[0], slot));\n                    });\n                });\n            }\n            Object.values(slots).forEach((roomArrayPair) => {\n                Object.values(roomArrayPair).forEach((array) => array.sort((slot1, slot2) => slot1.slotData.startTime.value - slot2.slotData.startTime.value));\n            });\n            return Object.assign({\n                slots: slots,\n                rooms: rooms.listFilterBySelectedDepartments.value\n                    .filter((room) => room.is_basic &&\n                    rooms.listFilterBySelectedDepartmentsAndFilters.value.findIndex((r) => r.id === room.id) >= 0)\n                    .sort((r1, r2) => r1.name.localeCompare(r2.name)),\n            }, calendarValues.value);\n        });\n        // Update weekDays\n        watchEffect(() => {\n            console.log('Updating Week days');\n            api.value.fetch.weekdays({ week: selectedDate.value.week, year: selectedDate.value.year }).then((value) => {\n                weekDays.list.value = value;\n            });\n        });\n        // Week selection watcher\n        watchEffect(() => {\n            console.log('Updating Rooms reservations');\n            const date = selectedDate.value;\n            updateRoomReservations(date);\n        });\n        // Week selection and departments watcher\n        watchEffect(() => {\n            console.log('Updating Scheduled courses');\n            const date = selectedDate.value;\n            if (!departmentStore.departments) {\n                return;\n            }\n            updateScheduledCourses(date, departmentStore.departments);\n        });\n        // Time settings watcher\n        watchEffect(() => {\n            console.log('Updating time settings');\n            onTimeSettingsChanged(timeSettings.value);\n        });\n        /**\n         * Takes an object having departments id as key and an array.\n         * Returns the filtered entries of selected departments.\n         * @param object\n         */\n        function filterBySelectedDepartments(object) {\n            const out = Object.fromEntries(Object.entries(object).filter(([key]) => selectedDepartments.value.findIndex((dept) => `${dept.id}` === key) >= 0));\n            return out;\n        }\n        function onTimeSettingsChanged(timeSettings) {\n            if (!timeSettings) {\n                return;\n            }\n            let minStartTime = timeSettings[0].day_start_time;\n            let maxFinishTime = timeSettings[0].day_finish_time;\n            let minLunchBreakStartTime = timeSettings[0].lunch_break_start_time;\n            let maxLunchBreakFinishTime = timeSettings[0].lunch_break_finish_time;\n            timeSettings.forEach((setting) => {\n                minStartTime = Math.min(minStartTime, setting.day_start_time);\n                maxFinishTime = Math.max(maxFinishTime, setting.day_finish_time);\n                minLunchBreakStartTime = Math.min(minLunchBreakStartTime, setting.lunch_break_start_time);\n                maxLunchBreakFinishTime = Math.max(maxLunchBreakFinishTime, setting.lunch_break_finish_time);\n            });\n            dayStartTime.value = createTime(minStartTime);\n            dayFinishTime.value = createTime(maxFinishTime);\n            lunchBreakStartTime.value = createTime(minLunchBreakStartTime);\n            lunchBreakFinishTime.value = createTime(maxLunchBreakFinishTime);\n        }\n        function createRoomReservationSlot(reservation) {\n            const startTimeRaw = reservation.start_time.split(':');\n            const startTimeValue = parseInt(startTimeRaw[0]) * 60 + parseInt(startTimeRaw[1]);\n            const startTime = createTime(startTimeValue);\n            const endTimeRaw = reservation.end_time.split(':');\n            const endTimeValue = parseInt(endTimeRaw[0]) * 60 + parseInt(endTimeRaw[1]);\n            const endTime = createTime(endTimeValue);\n            let backgroundColor = '#ffffff';\n            if (reservation.reservation_type in roomReservationTypes.perId.value) {\n                const type = roomReservationTypes.perId.value[reservation.reservation_type];\n                backgroundColor = type.bg_color;\n            }\n            const slotData = {\n                reservation: reservation,\n                rooms: rooms.perIdFilterBySelectedDepartments.value,\n                users: users.perId.value,\n                reservationTypes: Object.values(roomReservationTypes.list.value),\n                periodicityTypes: reservationPeriodicityTypes.value,\n                periodicity: reservation.periodicity,\n                weekdays: weekDays.list.value,\n                day: reservation.date,\n                startTime: startTime,\n                endTime: endTime,\n                title: reservation.title,\n                id: `roomreservation-${reservation.id}`,\n                displayStyle: { background: backgroundColor },\n                onPeriodicityDelete: () => {\n                    if (!reservation.periodicity) {\n                        return Promise.resolve();\n                    }\n                    const periodicityId = reservation.periodicity.periodicity.id;\n                    const reservationsRemovalPromise = reservationRemoveFutureSamePeriodicity(reservation);\n                    if (!reservationsRemovalPromise) {\n                        return Promise.reject(`Could not remove the reservations with periodicity id ${periodicityId}`);\n                    }\n                    return reservationsRemovalPromise.then((_) => deleteReservationPeriodicity(periodicityId));\n                },\n            };\n            return {\n                slotData: slotData,\n                component: shallowRef(selectedRoom.value ? HourCalendarRoomReservationSlot : RoomCalendarRoomReservationSlot),\n                actions: {\n                    delete: deleteRoomReservationSlot,\n                    save: updateRoomReservation,\n                },\n            };\n        }\n        function createScheduledCourseSlot(course, courseType, deptId) {\n            const startTime = createTime(course.start_time);\n            const endTime = createTime(course.start_time + courseType.duration);\n            let departmentName = '';\n            if (departmentStore.departments) {\n                const department = departmentStore.departments.find((dept) => `${dept.id}` === deptId);\n                if (department) {\n                    departmentName = department.abbrev;\n                }\n            }\n            const slotData = {\n                course: course,\n                department: departmentName,\n                rooms: rooms.perIdFilterBySelectedDepartments.value,\n                day: course.day,\n                startTime: startTime,\n                endTime: endTime,\n                title: course.course.module.abbrev,\n                id: `scheduledcourse-${course.course.id}`,\n                displayStyle: { background: scheduledCourseColor },\n            };\n            return {\n                slotData: slotData,\n                component: shallowRef(selectedRoom.value ? HourCalendarScheduledCourseSlot : RoomCalendarScheduledCourseSlot),\n                actions: {\n                    // No course save\n                    save: undefined,\n                    // No course deletion\n                    delete: undefined,\n                },\n            };\n        }\n        function createFiltersValues() {\n            const out = [];\n            out.push(...roomAttributes.booleanList.value.map((attribute) => {\n                return {\n                    component: markRaw(DynamicSelectedElementBoolean),\n                    value: {\n                        id: attribute.id,\n                        name: attribute.name,\n                        value: false,\n                    },\n                };\n            }));\n            out.push(...roomAttributes.numericList.value.map((attribute) => {\n                const values = roomAttributeValues.numericList.value\n                    .filter((att) => att.attribute === attribute.id)\n                    .map((att) => att.value);\n                const min = Math.min(...values);\n                const max = Math.max(...values);\n                return {\n                    component: markRaw(DynamicSelectedElementNumeric),\n                    value: {\n                        id: attribute.id,\n                        name: attribute.name,\n                        min: min,\n                        max: max,\n                        initialMin: min,\n                        initialMax: max,\n                    },\n                };\n            }));\n            return out;\n        }\n        function addTo(collection, id, element) {\n            if (!collection[id]) {\n                collection[id] = [];\n            }\n            collection[id].push(element);\n        }\n        function updateRoomReservations(date) {\n            const week = date.week;\n            const year = date.year;\n            showLoading();\n            return api.value.fetch.roomReservations({ week: week, year: year }).then((value) => {\n                roomReservations.list.value = value;\n                temporaryReservation.value = undefined;\n                hideLoading();\n            });\n        }\n        function updateScheduledCourses(date, departments) {\n            const week = date.week;\n            const year = date.year;\n            showLoading();\n            scheduledCourses.perDepartment.value = {};\n            let count = departments.length;\n            if (count === 0) {\n                hideLoading();\n                return;\n            }\n            const coursesList = {};\n            departments.forEach((dept) => {\n                api.value.fetch.scheduledCourses({ week: week, year: year, department: dept.abbrev }).then((value) => {\n                    coursesList[dept.id] = value;\n                    if (--count === 0) {\n                        scheduledCourses.perDepartment.value = coursesList;\n                        hideLoading();\n                    }\n                });\n            });\n        }\n        function updateReservationPeriodicities() {\n            return api.value.fetch.reservationPeriodicities().then((value) => {\n                reservationPeriodicities.list.value = value;\n            });\n        }\n        function updateRoomReservation(newData, oldData) {\n            const newReservation = newData.reservation;\n            const oldReservation = oldData.reservation;\n            if (oldReservation.id < 0) {\n                // The reservation is a new one, just add it to the list\n                roomReservations.list.value.push(newReservation);\n                // Clear the temporary slot\n                temporaryReservation.value = undefined;\n                if (newReservation.periodicity != oldReservation.periodicity) {\n                    // The reservation has a periodicity, new reservations might have been created.\n                    // Update the lists of reservations and periodicity\n                    updateRoomReservations(selectedDate.value);\n                    updateReservationPeriodicities();\n                }\n                return;\n            }\n            // Find the reservation index from the list of reservations\n            const index = roomReservations.list.value.findIndex((reserv) => reserv.id === oldReservation.id);\n            if (index < 0) {\n                // Reservation not found\n                console.error(`Could not find reservation with id: ${oldReservation.id}`);\n                return;\n            }\n            if (newReservation.periodicity != oldReservation.periodicity) {\n                // The reservation has a new periodicity, new reservations might have been created.\n                // Update the lists of reservations and periodicities\n                updateRoomReservations(selectedDate.value);\n                updateReservationPeriodicities();\n            }\n            // Replace the reservation at index\n            roomReservations.list.value[index] = newReservation;\n        }\n        function handleReason(level, message) {\n            console.error(`${level}: ${message}`);\n        }\n        function deleteRoomReservationSlot(toDelete) {\n            const reservation = toDelete.reservation;\n            // Target reservation is a temporary one, just remove the slot\n            if (reservation.id < 0) {\n                temporaryReservation.value = undefined;\n                return;\n            }\n            if (reservation.periodicity && reservation.periodicity.periodicity.id >= 0) {\n                // The reservation is linked to a periodicity,\n                // we must ask if we remove other reservations related to this periodicity\n                reservationToDelete.value = reservation;\n                isReservationDeletionDialogOpen.value = true;\n                return;\n            }\n            reservationDeletionConfirmed(reservation);\n        }\n        function reservationRemoveAllSamePeriodicity(reservation) {\n            if (!reservation.periodicity || reservation.periodicity.periodicity.id < 0) {\n                return;\n            }\n            const periodicityId = reservation.periodicity.periodicity.id;\n            // Get the list of all the reservations to delete, which are those who share the periodicity ID\n            api.value.fetch.roomReservations({ periodicityId: periodicityId }).then((deletionList) => {\n                // Delete each reservation in the list\n                deleteRoomReservations(deletionList)\n                    .then((_) => {\n                    // Remove the associated periodicity\n                    api.value.delete.reservationPeriodicity(periodicityId);\n                })\n                    // Close the dialog when all the reservations have been deleted\n                    .finally(closeReservationDeletionDialog);\n            });\n        }\n        function reservationRemoveCurrentAndFutureSamePeriodicity(reservation) {\n            if (!reservation.periodicity || reservation.periodicity.periodicity.id < 0) {\n                return;\n            }\n            const periodicityId = reservation.periodicity.periodicity.id;\n            const reservationDate = new Date(reservation.date);\n            // Remove all the future reservations of the same periodicity\n            reservationRemoveFutureSamePeriodicity(reservation)\n                // Remove the current reservation\n                ?.then((_) => {\n                deleteRoomReservation(reservation);\n            })\n                // Reduce the periodicity end date to the day before the current reservation\n                .then((_) => {\n                // Get the day before the reservation\n                const dayBefore = new Date(reservationDate);\n                dayBefore.setDate(dayBefore.getDate() - 1);\n                // Get the periodicity data\n                const periodicity = reservationPeriodicities.perId.value[periodicityId].periodicity;\n                if (periodicity.periodicity_type === '') {\n                    // Should never arrive here as an existing periodicity always has a type. Written for the type checks.\n                    return;\n                }\n                // Match the api path with the periodicity type\n                let apiCall;\n                switch (periodicity.periodicity_type) {\n                    case 'BM':\n                        apiCall = api.value.patch.reservationPeriodicityByMonth;\n                        break;\n                    case 'EM':\n                        apiCall = api.value.patch.reservationPeriodicityEachMonthSameDate;\n                        break;\n                    case 'BW':\n                        apiCall = api.value.patch.reservationPeriodicityByWeek;\n                        break;\n                }\n                // Finally apply the patch\n                return apiCall(periodicity.id, { end: dayBefore.toLocaleDateString() });\n            })\n                ?.then((_) => {\n                updateRoomReservations(selectedDate.value);\n                updateReservationPeriodicities();\n            })\n                .finally(closeReservationDeletionDialog);\n        }\n        /**\n         * Removes all the reservations having the same periodicity as the provided reservation and happening at a later date.\n         * @param reservation The reservation to base the periodicity removal.\n         */\n        function reservationRemoveFutureSamePeriodicity(reservation) {\n            if (!reservation.periodicity || reservation.periodicity.periodicity.id < 0) {\n                return;\n            }\n            const periodicityId = reservation.periodicity.periodicity.id;\n            const reservationDate = new Date(reservation.date);\n            const reservationTime = reservationDate.getTime();\n            // Get the list of all the reservations to delete, which are those who share the periodicity ID and are later than\n            // the selected\n            return api.value.fetch.roomReservations({ periodicityId: periodicityId }).then((deletionList) => {\n                // Filter the older reservations\n                deletionList = deletionList.filter((reserv) => new Date(reserv.date).getTime() > reservationTime);\n                return deleteRoomReservations(deletionList);\n            });\n        }\n        function deleteReservationPeriodicity(periodicityId) {\n            return api.value.delete\n                .reservationPeriodicity(periodicityId)\n                .then((_) => {\n                updateReservationPeriodicities();\n            })\n                .then((_) => updateRoomReservations(selectedDate.value));\n        }\n        function closeReservationDeletionDialog() {\n            reservationToDelete.value = undefined;\n            isReservationDeletionDialogOpen.value = false;\n        }\n        function deleteRoomReservation(reservation) {\n            return api.value.delete\n                .roomReservation(reservation.id)\n                .then((_) => {\n                // Filter the list of reservations\n                roomReservations.list.value = roomReservations.list.value.filter((r) => r.id != reservation.id);\n            }, (reason) => parseReason(reason, handleReason))\n                .catch((reason) => parseReason(reason, handleReason));\n        }\n        async function deleteRoomReservations(deletionList) {\n            await Promise.all(deletionList.map(async (reserv) => {\n                return await deleteRoomReservation(reserv);\n            }));\n        }\n        function reservationDeletionConfirmed(reservation) {\n            deleteRoomReservation(reservation);\n            closeReservationDeletionDialog();\n        }\n        function hideLoading() {\n            if (--loadingCounter <= 0) {\n                loaderIsVisible.value = false;\n            }\n        }\n        function showLoading() {\n            ++loadingCounter;\n            loaderIsVisible.value = true;\n        }\n        function handleRoomNameClick(roomId) {\n            selectedRoom.value = roomStore.rooms.find((r) => r.id === roomId);\n        }\n        function handleDepartmentNameClick(deptId) {\n            selectedDepartment.value = departmentStore.departments.find((dept) => dept.id === deptId);\n        }\n        let newReservationId = -1;\n        function handleDrag(drag) {\n            if (drag.startDate.getDate() != drag.endDate.getDate()) {\n                console.error('Reserving a room for more than a day is not accepted.');\n                return;\n            }\n            const day = toStringAtLeastTwoDigits(drag.startDate.getDate());\n            const month = toStringAtLeastTwoDigits(drag.startDate.getMonth() + 1);\n            const year = drag.startDate.getFullYear();\n            const date = `${year}-${month}-${day}`;\n            temporaryReservation.value = {\n                date: date,\n                description: '',\n                email: false,\n                end_time: drag.endTime.text,\n                id: newReservationId--,\n                periodicity: null,\n                reservation_type: -1,\n                responsible: currentUserId,\n                room: selectedRoom.value?.id ?? -1,\n                start_time: drag.startTime.text,\n                title: '',\n            };\n        }\n        /**\n         * Called when the room calendar receives a new slot instruction.\n         * Sets the temporary reservation slot value to a new reservation with day and room already defined.\n         * @param date\n         * @param roomId\n         */\n        function handleNewSlot(date, roomId) {\n            const now = new Date();\n            const reservDate = `${date.getFullYear()}-${date.getMonth() + 1}-${date.getDate()}`;\n            temporaryReservation.value = {\n                date: reservDate,\n                description: '',\n                email: false,\n                end_time: new Date(now.getTime() + newReservationDefaultDuration * 60000).toTimeString(),\n                id: newReservationId--,\n                periodicity: null,\n                reservation_type: -1,\n                responsible: currentUserId,\n                room: parseInt(roomId, 10),\n                start_time: now.toTimeString(),\n                title: '',\n            };\n        }\n        function createDateId(day, month) {\n            return `${toStringAtLeastTwoDigits(day)}/${toStringAtLeastTwoDigits(month)}`;\n        }\n        /**\n         * Takes a room id and\n         * returns true if the room is available to the selected departments, false otherwise\n         * @param roomId The room id\n         */\n        function isRoomInSelectedDepartments(roomId) {\n            const room = rooms.listFilterBySelectedDepartments.value.find((r) => r.id === roomId);\n            return !(!room || !room.basic_rooms.find((r) => r.id === roomId));\n        }\n        function isRoomSelected(roomId) {\n            if (selectedRoom.value) {\n                // Return false if the course's sub rooms are not selected\n                if (!roomStore.perId[roomId]?.basic_rooms.find((val) => val.id === selectedRoom.value.id)) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        function getScheduledCourseDepartment(course) {\n            const departmentEntry = Object.entries(scheduledCourses.perDepartment.value).find((entry) => {\n                return entry[1].find((c) => c.id === course.id);\n            });\n            if (departmentEntry) {\n                const deptId = departmentEntry[0];\n                return departmentStore.departments.find((dept) => `${dept.id}` === deptId);\n            }\n            return undefined;\n        }\n        onMounted(() => {\n            const dbDataElement = document.getElementById('json_data');\n            if (dbDataElement && dbDataElement.textContent) {\n                const data = JSON.parse(dbDataElement.textContent);\n                if ('dept' in data) {\n                    currentDepartment = data.dept;\n                }\n                if ('user_id' in data) {\n                    currentUserId = data.user_id;\n                }\n            }\n            departmentStore.remote.fetch().then((value) => {\n                // Select the current department by default\n                if (value) {\n                    selectedDepartment.value = value.find((dept) => dept.abbrev === currentDepartment);\n                    courseTypes.perDepartment.value = {};\n                    const typesList = {};\n                    let typesCounter = departmentStore.departments.length;\n                    value.forEach((dept) => {\n                        api.value.fetch.courseTypes({ department: dept.abbrev }).then((value) => {\n                            typesList[dept.id] = value;\n                            if (--typesCounter === 0) {\n                                // Update the course types list ref only once every department is handled\n                                courseTypes.perDepartment.value = typesList;\n                            }\n                        });\n                    });\n                }\n            });\n            roomStore.remote.fetch();\n            api.value.fetch.timeSettings().then((value) => {\n                timeSettings.value = value;\n            });\n            api.value.fetch.roomReservationTypes().then((value) => {\n                roomReservationTypes.list.value = value;\n            });\n            updateReservationPeriodicities();\n            api.value.fetch.reservationPeriodicityTypes().then((value) => {\n                reservationPeriodicityTypes.value = value;\n            });\n            api.value.fetch.users().then((value) => {\n                users.list.value = value;\n            });\n            api.value.fetch.booleanRoomAttributes().then((value) => {\n                roomAttributes.booleanList.value = value;\n            });\n            api.value.fetch.numericRoomAttributes().then((value) => {\n                roomAttributes.numericList.value = value;\n            });\n            api.value.fetch.booleanRoomAttributeValues().then((value) => {\n                roomAttributeValues.booleanList.value = value;\n            });\n            api.value.fetch.numericRoomAttributeValues().then((value) => {\n                roomAttributeValues.numericList.value = value;\n            });\n        });\n        return (_ctx, _cache) => {\n            return (_openBlock(), _createElementBlock(\"div\", null, [\n                (loaderIsVisible.value)\n                    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1))\n                    : _createCommentVNode(\"\", true),\n                _createVNode(DeletePeriodicReservationDialog, {\n                    \"is-open\": isReservationDeletionDialogOpen.value,\n                    reservation: reservationToDelete.value,\n                    \"on-confirm-current\": reservationDeletionConfirmed,\n                    \"on-confirm-all\": reservationRemoveAllSamePeriodicity,\n                    \"on-confirm-future\": reservationRemoveCurrentAndFutureSamePeriodicity,\n                    \"on-cancel\": closeReservationDeletionDialog\n                }, null, 8, [\"is-open\", \"reservation\"]),\n                _createElementVNode(\"div\", _hoisted_2, [\n                    _createElementVNode(\"div\", _hoisted_3, [\n                        _createElementVNode(\"div\", _hoisted_4, [\n                            _createVNode(WeekPicker, {\n                                week: selectedDate.value.week,\n                                \"onUpdate:week\": _cache[0] || (_cache[0] = ($event) => ((selectedDate.value.week) = $event)),\n                                year: selectedDate.value.year,\n                                \"onUpdate:year\": _cache[1] || (_cache[1] = ($event) => ((selectedDate.value.year) = $event))\n                            }, null, 8, [\"week\", \"year\"]),\n                            _createElementVNode(\"div\", _hoisted_5, [\n                                _createElementVNode(\"div\", _hoisted_6, [\n                                    _createElementVNode(\"div\", _hoisted_7, [\n                                        _hoisted_8,\n                                        (selectedRoom.value)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    class: \"btn-close\",\n                                                    onClick: _cache[2] || (_cache[2] = ($event) => (handleRoomNameClick(-1)))\n                                                })\n                                            ]))\n                                            : _createCommentVNode(\"\", true),\n                                        _createElementVNode(\"div\", _hoisted_10, [\n                                            _withDirectives(_createElementVNode(\"select\", {\n                                                id: \"select-room\",\n                                                \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event) => ((selectedRoom).value = $event)),\n                                                class: \"form-select w-auto\",\n                                                \"aria-label\": \"Select room\"\n                                            }, [\n                                                _hoisted_11,\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(Object.values(rooms.perIdFilterBySelectedDepartments.value)\n                                                    .filter((r) => r.is_basic)\n                                                    .sort((r1, r2) => {\n                                                    return r1.name.toLowerCase().localeCompare(r2.name.toLowerCase());\n                                                }), (room) => {\n                                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                                        key: room.id,\n                                                        value: room\n                                                    }, _toDisplayString(room.name), 9, _hoisted_12));\n                                                }), 128))\n                                            ], 512), [\n                                                [_vModelSelect, selectedRoom.value]\n                                            ])\n                                        ])\n                                    ]),\n                                    _createElementVNode(\"div\", _hoisted_13, [\n                                        _hoisted_14,\n                                        (selectedDepartment.value)\n                                            ? (_openBlock(), _createElementBlock(\"div\", _hoisted_15, [\n                                                _createElementVNode(\"button\", {\n                                                    type: \"button\",\n                                                    class: \"btn-close\",\n                                                    onClick: _cache[4] || (_cache[4] = ($event) => (handleDepartmentNameClick(-1)))\n                                                })\n                                            ]))\n                                            : _createCommentVNode(\"\", true),\n                                        _createElementVNode(\"div\", _hoisted_16, [\n                                            _withDirectives(_createElementVNode(\"select\", {\n                                                id: \"select-department\",\n                                                \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event) => ((selectedDepartment).value = $event)),\n                                                class: \"form-select w-auto ms-1\",\n                                                \"aria-label\": \"Select department\"\n                                            }, [\n                                                _hoisted_17,\n                                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(departmentStore).departments, (dept) => {\n                                                    return (_openBlock(), _createElementBlock(\"option\", {\n                                                        key: dept.id,\n                                                        value: dept\n                                                    }, _toDisplayString(dept.abbrev), 9, _hoisted_18));\n                                                }), 128))\n                                            ], 512), [\n                                                [_vModelSelect, selectedDepartment.value]\n                                            ])\n                                        ])\n                                    ]),\n                                    (!selectedRoom.value)\n                                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [\n                                            _createElementVNode(\"div\", _hoisted_20, [\n                                                _createVNode(ClearableInput, {\n                                                    \"input-id\": 'filter-input-roomName',\n                                                    label: 'Filter by room name:',\n                                                    text: roomNameFilter.value,\n                                                    \"onUpdate:text\": _cache[6] || (_cache[6] = ($event) => ((roomNameFilter).value = $event))\n                                                }, null, 8, [\"text\"])\n                                            ]),\n                                            _createElementVNode(\"div\", _hoisted_21, [\n                                                _createVNode(DynamicSelect, _mergeProps({\n                                                    id: 'filter-select-attribute',\n                                                    label: 'Filter by attributes:',\n                                                    values: createFiltersValues(),\n                                                }, {\n                                                    \"selected-values\": selectedRoomAttributes.value,\n                                                    \"onUpdate:selected-values\": _cache[7] || (_cache[7] = ($event) => ((selectedRoomAttributes).value = $event))\n                                                }), null, 16, [\"selected-values\"])\n                                            ])\n                                        ]))\n                                        : _createCommentVNode(\"\", true)\n                                ])\n                            ])\n                        ]),\n                        _createElementVNode(\"div\", _hoisted_22, [\n                            _createElementVNode(\"div\", _hoisted_23, [\n                                _createElementVNode(\"div\", _hoisted_24, [\n                                    _createElementVNode(\"div\", null, [\n                                        _createElementVNode(\"span\", {\n                                            style: _normalizeStyle({ color: scheduledCourseColor })\n                                        }, \" \", 4),\n                                        _createTextVNode(\"Course\")\n                                    ])\n                                ]),\n                                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(roomReservationTypes.list.value, (type) => {\n                                    return (_openBlock(), _createElementBlock(\"div\", {\n                                        key: type.id,\n                                        class: \"col-auto\"\n                                    }, [\n                                        _createElementVNode(\"div\", null, [\n                                            _createElementVNode(\"span\", {\n                                                style: _normalizeStyle({ color: type.bg_color })\n                                            }, \" \", 4),\n                                            _createTextVNode(_toDisplayString(type.name), 1)\n                                        ])\n                                    ]));\n                                }), 128))\n                            ]),\n                            (selectedRoom.value)\n                                ? (_openBlock(), _createBlock(HourCalendar, {\n                                    key: 0,\n                                    onDrag: handleDrag,\n                                    values: _unref(hourCalendarValues)\n                                }, null, 8, [\"values\"]))\n                                : (_openBlock(), _createBlock(RoomCalendar, {\n                                    key: 1,\n                                    onNewSlot: handleNewSlot,\n                                    values: _unref(roomCalendarValues),\n                                    onRowHeaderClick: handleRoomNameClick\n                                }, null, 8, [\"values\"]))\n                        ])\n                    ])\n                ])\n            ]));\n        };\n    }\n});\n","import script from \"./RoomReservationView.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./RoomReservationView.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./RoomReservationView.vue?vue&type=style&index=0&id=efd0de00&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/david/projects/FlOpEDT/FlOpEDT/frontend/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-efd0de00\"]])\n\nexport default __exports__","import { api } from '@/assets/js/api';\nimport { apiKey, currentWeekKey } from '@/assets/js/keys';\n// Import Bootstrap CSS\nimport '@/assets/scss/styles.scss';\nimport '@vuepic/vue-datepicker/dist/main.css';\nimport { createApp, readonly, ref } from 'vue';\nimport Popper from 'vue3-popper';\nimport RoomReservation from '@/views/RoomReservationView.vue';\nimport { createPinia } from 'pinia';\nconst roomreservation = createApp(RoomReservation).use(createPinia());\n// Provide the current week and year\nconst now = new Date();\nconst startDate = new Date(now.getFullYear(), 0, 1);\nconst days = Math.floor((now.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1000));\nconst week = Math.ceil(days / 7);\nconst currentWeek = ref({\n    week: week,\n    year: now.getFullYear(),\n});\nconst apps = [{ appName: 'roomreservation', app: roomreservation }];\nconst pinia = createPinia();\napps.forEach(({ appName, app }) => {\n    // Provide the api access\n    app.provide(apiKey, readonly(api));\n    app.provide(currentWeekKey, readonly(currentWeek.value));\n    app.use(pinia);\n    app.component('PopperComponent', Popper);\n    app.mount(`#${appName}-app`);\n});\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkflopedt_front\"] = self[\"webpackChunkflopedt_front\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(9940); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["API_ENDPOINT","dbDataElement","document","getElementById","textContent","data","JSON","parse","api","getCookie","name","cookie","xsrfCookies","split","map","c","trim","filter","startsWith","length","decodeURIComponent","csrfToken","async","fetchData","url","params","providedParams","Object","assign","method","mode","cache","credentials","headers","args","keys","p","join","finalUrl","console","log","response","fetch","json","ok","errorMessage","error","status","Error","sendData","optional","includes","Promise","reject","requestHeaders","Headers","set","requestInit","redirect","referrerPolicy","body","stringify","endUrl","id","then","statusText","catch","reason","putData","postData","patchData","deleteData","urls","departments","rooms","weekdays","timesettings","roomreservation","roomreservationtype","reservationperiodicity","reservationperiodicitytype","reservationperiodicitybyweek","reservationperiodicityeachmonthsamedate","reservationperiodicitybymonth","reservationperiodicitybymonthxchoice","courses","scheduledcourses","coursetypes","users","booleanroomattributes","numericroomattributes","booleanroomattributevalues","numericroomattributevalues","fetcher","renameList","filterObject","buildUrl","base","uri","booleanRoomAttributes","booleanRoomAttributeValues","courseTypes","numericRoomAttributes","numericRoomAttributeValues","reservationPeriodicities","reservationPeriodicity","periodicityId","reservationPeriodicityByMonthXChoices","reservationPeriodicityTypes","room","additionalParams","toString","roomReservations","roomReservationTypes","scheduledCourses","timeSettings","put","roomReservation","value","reservationPeriodicityByMonth","reservationPeriodicityByWeek","reservationPeriodicityEachMonthSameDate","post","patch","delete","obj","filtered","entries","entry","toRename","find","renamePair","keyName","fromEntries","currentWeekKey","Symbol","apiKey","requireInjection","key","defaultValue","resolved","inject","Time","constructor","text","this","convertDecimalTimeToHuman","time","hours","Math","trunc","minutes","round","toStringAtLeastTwoDigits","element","parseInt","isNaN","parseReason","onAlert","reasonObj","forEach","listGroupBy","list","keyPredicate","out","push","createTime","mapListId","__default__","components","_defineComponent","setup","__props","expose","slotInterfaces","ref","currentContextMenu","storeSlotInterface","slotInterface","openContextMenu","slotId","closeCurrentContextMenu","closeContextMenu","clicked","_ctx","_cache","_openBlock","_createElementBlock","onClick","_renderSlot","$slots","__exports__","_hoisted_1","class","_hoisted_2","_hoisted_3","_createElementVNode","_hoisted_4","style","_hoisted_5","_hoisted_6","_hoisted_7","props","values","emits","emit","snapValueStart","snapStep","displayableSlots","computed","slots","index","tmpSlot","canBeDisplayed","slotData","hourIndicators","start","startTime","end","endTime","hour","dragEvent","startDate","Date","endDate","clickHeightToTime","y","snap","pixelsPerHour","dayColumnMouseDown","day","event","dayArray","year","offsetY","dayColumnMouseUp","heightValue","height","positionRelativeToColumn","computeHeight","slot","startPos","endPos","computeYOffset","title","computeStyle","top","position","computeHourStyle","width","calendar","contextMenu","_createBlock","BaseCalendar","ref_key","table","_withCtx","_Fragment","_renderList","days","date","_normalizeClass","_toDisplayString","_normalizeStyle","_unref","onMousedown","_withModifiers","$event","onMouseup","_resolveDynamicComponent","component","actions","onContextmenu","onInterface","_","week","selectDate","watchEffect","refDate","getFullYear","floor","getTime","ceil","locale","nowLabel","_createVNode","Datepicker","modelValue","inline","createSlot","roomId","type","$emit","_createCommentVNode","role","onEdit","onDelete","onDuplicate","clearable","Boolean","shouldReset","minDate","get","getDate","month","getMonth","watch","newValue","_isRef","format","transitions","_hoisted_8","_hoisted_9","_hoisted_10","isOpen","isLocked","onCancel","onSave","modalRef","isMounted","alerts","open","modal","Modal","show","cancel","save","addAlert","close","dismissAlerts","hide","level","message","onMounted","tabindex","alert","_createTextVNode","disabled","for","model","isDisabled","updatedModel","periodicity_type","bw_weeks_interval","bw_weekdays","selectedWeekDays","emitUpdate","weekInterval","weekDaysClass","weekday","num","_withDirectives","_vModelCheckbox","min","_vModelText","undefined","byMonthXChoices","bm_day_choice","bm_x_choice","selectedDay","selectedX","dayChoiceClass","x","_vModelSelect","types","modelType","modelPeriodicity","selectedType","BW","updatedModelByWeek","updatedModelByMonth","BM","PeriodicityByWeekEdit","PeriodicityByMonthEdit","_hoisted_11","_hoisted_12","_hoisted_13","onConfirm","confirm","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","reservation","isNew","reservationTypes","periodicityTypes","onPeriodicityDelete","current_conflict","ReservationTime","array","shouldDayPickerReset","shouldStartTimePickerReset","shouldEndTimePickerReset","reservationResponsibleUsername","user","responsible","first_name","last_name","username","formInterface","isFormLocked","isFormOpen","isPeriodicityDeletionDialogOpen","isReservationEditDialogOpen","isDialogLocked","isReservationConflictDialogOpen","description","selectedResponsible","selectedRoom","reservation_type","isPeriodic","periodicity","periodicityData","email","fromString","start_time","end_time","isCreatingPeriodicity","initPeriodicity","periodicityStart","periodicityEndMinDate","periodicityEnd","toLocaleDateString","currentDay","getDay","currentWeekdayRef","d","selectedPeriodicityType","t","requiredClass","selectPeriodicityClass","originalDuration","periodicityByWeek","periodicityByMonth","periodicityEachMonthSameDate","byWeek","byMonth","periodicityChoice","EM","resetValues","onFormCancel","onFormSave","switchToEditDialog","saveReservation","onPeriodicityDeletionCancel","switchToForm","onPeriodicityDeletionConfirm","onReservationEditRefuse","onReservationEditConfirm","onReservationConflictRefuseCreation","onReservationConflictAcceptCreation","extractPeriodicity","periodicityToUpdate","createRepetitions","newPeriodicityData","newPeriodicity","max","create_repetitions","periodicityError","possible_reservations","impossible_reservations_per_day","impossible_reservations","reservations","isPerDay","ok_reservations","nok_reservations","switchToConflictDialog","handleReason","removePeriodicity","switchToPeriodicityDeletionDialog","onFormInterface","updateDate","newDate","replaceAll","updatePeriodicityEndDate","updateStartTime","newStartTimeAbsoluteTime","endAbsoluteTime","updateEndTime","newEndTimeAbsoluteTime","startAbsoluteTime","generateId","addPeriodicity","newStart","newEnd","ModalDialog","buttons","ModalForm","placeholder","maxlength","rows","DayPicker","input","TimePicker","onUpdateTime","onOnReset","readonly","PeriodicitySelect","isContextMenuOpened","clickCount","timer","isEditing","clearTimeout","onDoubleClick","setTimeout","onSingleClick","openEdit","closeEdit","emitInterface","_component_PopperComponent","_resolveComponent","displayStyle","arrow","content","CalendarSlotContextMenu","default","RoomReservationForm","onClosed","onSaved","onCancelled","roomName","r","CalendarRoomReservationSlot","course","CalendarScheduledCourseSlot","module","abbrev","department","tutor","selectedValues","label","updatedValues","updateValue","findIndex","val","selectedIds","selected","unselected","selectValue","unselectValue","valId","Array","from","onRemoved","remove","initialMin","initialMax","slider","storeValues","e","isEnabled","valueMin","valueMax","updateValues","onMouseEnter","enableDrag","onMouseLeave","disableDrag","MultiRangeSlider","ruler","onInput","onMouseenter","onMouseleave","inputValues","minValue","maxValue","newMin","newMax","DynamicSelectedElement","DoubleThumbSlider","elementValue","updatedValue","inputId","clear","onConfirmCurrent","onConfirmAll","onConfirmFuture","isCurrentSelected","isAllSelected","isFutureSelected","confirmCurrent","confirmAll","confirmFuture","createRequestHeader","doFetch","useFetch","filters","usePut","usePost","usePatch","mappable","StoreAction","convertToApp","convertToAPI","onFetch","convertToPartialAPI","param","useDepartmentStore","defineStore","depts","remote","useRoomStore","perId","perDepartment","departmentStore","dept","roomStore","basic_rooms","is_basic","subroom_of","_withScopeId","n","_pushScopeId","_popScopeId","currentWeek","currentDepartment","currentUserId","loadingCounter","weekDays","perDepartmentFilterBySelectedDepartments","filterBySelectedDepartments","listFilterBySelectedDepartments","perIdFilterBySelectedDepartments","sort","r1","r2","toLowerCase","localeCompare","listFilterBySelectedDepartmentsAndFilters","attributeFilters","selectedBooleanAttributes","roomAttributeValues","booleanList","filterVal","attributeVal","selectedNumericAttributes","numericList","Number","roomNameFilter","matchFilters","filterEntry","selectedFilterAttributes","attributeValues","comparisonPredicate","selectedFilterAttribute","filteredAttributeValues","attributeValue","attribute","filt","flat","perDepartmentFilterByDepartmentsAndRooms","isRoomSelected","isRoomInSelectedDepartments","perDay","weekDay","perDayPerRoomFilterBySelectedDepartments","getScheduledCourseDepartment","selectedDepartments","reserv","createDateId","roomAttributes","dayStartTime","dayFinishTime","lunchBreakStartTime","lunchBreakFinishTime","newReservationDefaultDuration","scheduledCourseColor","selectedDate","loaderIsVisible","reservationToDelete","isReservationDeletionDialogOpen","selectedDepartment","selectedRoomAttributes","markRaw","DynamicSelectedElementBoolean","DynamicSelectedElementNumeric","roomReservationSlots","createRoomReservationSlot","perDayFilterBySelectedDepartmentsAndRooms","scheduledCoursesSlots","perDepartmentFilterBySelectedDepartmentsAndRooms","deptId","courseType","createScheduledCourseSlot","addTo","temporaryReservation","temporaryCalendarSlots","perDayPerRoom","calendarValues","hourCalendarValues","slot1","slot2","roomCalendarValues","roomArrayPair","object","onTimeSettingsChanged","minStartTime","day_start_time","maxFinishTime","day_finish_time","minLunchBreakStartTime","lunch_break_start_time","maxLunchBreakFinishTime","lunch_break_finish_time","setting","startTimeRaw","startTimeValue","endTimeRaw","endTimeValue","backgroundColor","bg_color","background","resolve","reservationsRemovalPromise","reservationRemoveFutureSamePeriodicity","deleteReservationPeriodicity","shallowRef","HourCalendarRoomReservationSlot","RoomCalendarRoomReservationSlot","deleteRoomReservationSlot","updateRoomReservation","duration","departmentName","HourCalendarScheduledCourseSlot","RoomCalendarScheduledCourseSlot","createFiltersValues","att","collection","updateRoomReservations","showLoading","hideLoading","updateScheduledCourses","count","coursesList","updateReservationPeriodicities","newData","oldData","newReservation","oldReservation","toDelete","reservationDeletionConfirmed","reservationRemoveAllSamePeriodicity","deletionList","deleteRoomReservations","finally","closeReservationDeletionDialog","reservationRemoveCurrentAndFutureSamePeriodicity","reservationDate","deleteRoomReservation","dayBefore","setDate","apiCall","reservationTime","all","handleRoomNameClick","handleDepartmentNameClick","newReservationId","handleDrag","drag","handleNewSlot","now","reservDate","toTimeString","departmentEntry","user_id","typesList","typesCounter","DeletePeriodicReservationDialog","WeekPicker","ClearableInput","DynamicSelect","_mergeProps","color","HourCalendar","onDrag","RoomCalendar","onNewSlot","onRowHeaderClick","createApp","RoomReservation","use","createPinia","apps","appName","app","pinia","provide","Popper","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","splice","definition","o","defineProperty","enumerable","g","globalThis","Function","window","prop","prototype","hasOwnProperty","call","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}